webpackJsonp([1],{"1/oy":function(t,e){},"3URq":function(t,e){},"4V5R":function(t,e){},"8e4C":function(t,e){window.PAGE_SIZE=20,window.RECENT_DATE=88},"9M+g":function(t,e){},"9kpU":function(t,e){},"A/d9":function(t,e){},DwKh:function(t,e){},DwTE:function(t,e){},FnIi:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"error",function(){return Lt}),n.d(a,"success",function(){return Kt}),n.d(a,"loadingStart",function(){return qt}),n.d(a,"loadingEnd",function(){return Bt});var s=n("7+uW"),o=new s.default,i={data:function(){return{}},created:function(){var t=this;o.$on("alerts",function(e){t.$msg({text:e,duration:3e3})}),o.$on("success",function(e){t.$msg({text:e,duration:3e3})}),o.$on("loading",function(e,n){n?t.$msg({text:e}):$(".vue-Message").hide()})},methods:{}},c={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},r={name:"app",components:{Alert:n("VU/8")(i,c,!1,null,null,null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Alert"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(r,l,!1,function(t){n("VJET")},null,null).exports,p=n("/ocq"),f={components:{},data:function(){return{loginName:"",password:""}},created:function(){},methods:{login:function(){var t="/api/login?loginName="+this.loginName+"&password="+this.password;this.$api.post(t,null,function(t){window.location.href="/#/index"},function(t){o.$emit("alerts","賬戶或密碼錯誤！")})}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("form",{staticClass:"form-signin",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.login(e)}}},[n("img",{staticClass:"mb-4",attrs:{src:"https://getbootstrap.com/assets/brand/bootstrap-solid.svg",alt:"",width:"72",height:"72"}}),t._v(" "),n("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),t._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("loginName")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginName,expression:"loginName"}],staticClass:"form-control",attrs:{type:"loginName",id:"inputEmail",placeholder:"用戶",required:"",autofocus:""},domProps:{value:t.loginName},on:{input:function(e){e.target.composing||(t.loginName=e.target.value)}}}),t._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"密碼",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("登錄")]),t._v(" "),n("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2018")])])])},staticRenderFns:[]};var h=n("VU/8")(f,m,!1,function(t){n("Za+S")},"data-v-a490b152",null).exports,v=n("UxJx"),y=n.n(v),g={components:{Autocomplete:y.a},data:function(){return{}},created:function(){},methods:{getUrl:function(t){return"/api/stock/search4StockData?query="+t},selectedProcess:function(t,e){e.clear(),this.push("/content/"+t.value+"/1"),o.$emit("selectedProcess")},formattedDisplay:function(t){return t.no+" "+t.company},push:function(t){this.$router.push(t),o.$emit("initCurrentPage",1)},go:function(t){this.$router.push(t)}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{type:"dark",variant:"primary",toggleable:""}},[n("b-navbar-toggle",{attrs:{target:"nav_dropdown_collapse"}}),t._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_dropdown_collapse"}},[n("b-navbar-nav",{staticClass:"pl-5"},[n("b-nav-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/")}}},[t._v("自選股")]),t._v(" "),n("b-nav-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/importantNews/1")}}},[t._v("市場重大新聞")]),t._v(" "),n("b-nav-item-dropdown",{attrs:{text:"個性化設置",right:""}},[n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/newsSettings")}}},[t._v("\n          新聞設置\n        ")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/editMySelectedType")}}},[t._v("\n          自選股設置\n        ")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/stockDailyTransactions")}}},[t._v("\n          交易資料導入與查詢\n        ")])],1)],1),t._v(" "),n("b-navbar-nav",[n("autocomplete",{ref:"autocomplete",attrs:{source:t.getUrl,"input-class":"form-control empty-form-control","results-property":"data","results-display":t.formattedDisplay},on:{selected:t.selectedProcess}})],1)],1)],1)],1)},staticRenderFns:[]};var w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"copy"},[this._v("\n  Copy © wenchun\n")])},staticRenderFns:[]},S={components:{Header:n("VU/8")(g,k,!1,function(t){n("DwTE")},"data-v-6bae5b6f",null).exports,Footer:n("VU/8")(null,w,!1,null,null,null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Header"),this._v(" "),this._t("default"),this._v(" "),e("Footer")],2)},staticRenderFns:[]},_=n("VU/8")(S,b,!1,null,null,null).exports,x={components:{Autocomplete:y.a},data:function(){return{list:[],firstStockId:"",myStockSelectedName:"庫存股",selectedTypes:[],mySelectedTypes:[],items:[]}},created:function(){var t=this;this.getStockMySelectedTypes(),this.getData(),o.$on("getMyStockSelected",function(e,n){void 0!=e&&(t.myStockSelectedName=n,t.$api.get("/api/stock/getStockMyDatasByType/"+e,null,function(e){t.list=e,void 0!=e&&e.length>0?(t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")):(t.push("/content/0/1"),o.$emit("emptyNews"))}))}),o.$on("getAllStockMyStore",function(){t.myStockSelectedName="庫存股",t.$api.get("/api/stock/getStockMyDatasByStore",null,function(e){t.list=e,void 0!=e&&e.length>0?(t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")):(t.push("/content/0/1"),o.$emit("emptyNews"))})})},methods:{push:function(t){this.$router.push(t),o.$emit("initCurrentPage",1)},isSelected:function(t){return t==(void 0==this.$route.params.stockId?this.firstStockId:this.$route.params.stockId)?"selected":""},go:function(t){this.push("/content/"+t+"/1")},toFront:function(){this.$router;var t=$(".selected").get(0),e=$(t).closest("span").prev().find("a").attr("href");void 0!=e&&this.push(e)},toBack:function(){this.$router;var t=$(".selected").get(0),e=$(t).closest("span").next().find("a").attr("href");void 0!=e&&this.push(e)},openModal:function(){this.getStockMySelectedTypes()},handleOk:function(t){},changeType:function(t,e){var n=void 0==this.$route.params.stockId?this.firstStockId:this.$route.params.stockId;this.changeStockMySelected(n,t,e)},getData:function(){var t=this;this.$api.get("/api/stock/getStockMyDatasByStore",null,function(e){t.list=e,t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")})},getStockMySelectedTypes:function(){var t=this;this.items=[];var e=this.$route.params.stockId;void 0!=e&&""!=e&&this.$api.get("/api/stock/getMySelectedTypesByStockId/"+e,null,function(e){var n=[];if(void 0!=e&&e.length>0)for(var a=0;a<e.length;a++){var s=e[a].type;n.push(s)}t.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){for(var a=0;a<e.length;a++){-1!=n.indexOf(e[a].type)||t.items.push(e[a])}})})},changeStockMySelected:function(t,e,n){var a=this,s=[];s.push(t);var i={selectedType:e,stockIds:s};this.$api.post("/api/stock/changeStockMySelected",i,function(t){o.$emit("success","保存成功!"),o.$emit("autoSelectedMyStockSelectedType",e,n),a.$refs.modal.hide()})}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"pt-2 pb-2"},[n("img",{staticStyle:{width:"35px",height:"35px",cursor:"pointer"},attrs:{src:"static/image/left.png"},on:{click:t.toFront}}),t._v(" "),n("span",{staticStyle:{padding:"0px 0px"}}),t._v(" "),n("img",{staticStyle:{width:"35px",height:"35px",cursor:"pointer"},attrs:{src:"static/image/right.png"},on:{click:t.toBack}}),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modalPrevent",title:"請選擇自選股","hide-footer":""},on:{ok:t.handleOk,shown:t.openModal}},t._l(t.items,function(e){return n("span",[n("b-button",{staticClass:"m-1",attrs:{variant:"success"},on:{click:function(n){t.changeType(e.type,e.name)}}},[t._v(t._s(e.name))])],1)}))],1),t._v(" "),n("div",{staticClass:"selected_name text"},[n("h5",[t._v(t._s(t.myStockSelectedName))]),t._v(" "),t._l(t.list,function(e){return n("span",{staticClass:"d-lg-block"},[n("a",{class:t.isSelected(e.stockId),attrs:{href:"/content/"+e.stockId+"/1"},on:{click:function(n){n.preventDefault(),t.go(e.stockId)}}},[t._v("\n      "+t._s(e.company)+"\n    ")]),n("br")])})],2)])},staticRenderFns:[]};var D=n("VU/8")(x,I,!1,function(t){n("ZWwq")},"data-v-4e7f2138",null).exports,C=n("bOdI"),N=n.n(C),T={data:function(){return N()({name:"",items:[],currSelectedType:""},"name","")},created:function(){var t=this;this.getData(),o.$on("autoSelectedMyStockSelectedType",function(e,n){t.currSelectedType=e,o.$emit("getMyStockSelected",e,n)})},methods:{getAllStockMyStore:function(){this.selectedTypes=[],this.currSelectedType="0",o.$emit("getAllStockMyStore")},getMyStockSelected:function(t,e){this.currSelectedType=t,o.$emit("getMyStockSelected",t,e)},isSelected:function(t){return this.currSelectedType==t?"warning":"success"},clearName:function(){this.name="",this.$refs.focusThis.focus()},handleOk:function(t){t.preventDefault(),this.name?this.handleSubmit():alert("请输入自選股名称!")},handleSubmit:function(){this.saveData(this.name),this.clearName(),this.$refs.modal.hide()},getData:function(){var t=this;this.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){t.items=e})},saveData:function(t){var e=this,n="/api/stock/saveStockMySelectedType?name="+t;this.$api.post(n,null,function(t){e.getData()})}},watch:{$route:function(t,e){}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[n("b-button",{attrs:{variant:""==t.currSelectedType||"0"==t.currSelectedType?"warning":"success"},on:{click:t.getAllStockMyStore}},[t._v("\n    庫存股\n  ")])],1),t._v(" "),t._l(t.items,function(e){return n("span",[n("b-button",{attrs:{variant:t.isSelected(e.type),id:e.type},on:{click:function(n){t.getMyStockSelected(e.type,e.name)}}},[t._v("\n      "+t._s(e.name)+"\n      ")])],1)}),t._v(" "),n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent2",modifiers:{modalPrevent2:!0}}],attrs:{variant:"success"}},[t._v("+")]),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modalPrevent2",title:"请输入自選股名称"},on:{ok:t.handleOk,shown:t.clearName}},[n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-input",{ref:"focusThis",attrs:{type:"text",placeholder:"输入自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],2)},staticRenderFns:[]};var E=n("VU/8")(T,M,!1,function(t){n("ws5n")},"data-v-02b78d8a",null).exports,P={data:function(){return{stockId:"",company:"",no:"",type:"",typeName:"",electronics:"",currSelectedType:"",currSelectedName:"",companyStatus:""}},created:function(){var t=this;this.stockId=this.$route.params.stockId,this.getData(this.stockId),o.$on("getAllStockMyStore",function(){t.currSelectedType="",t.currSelectedName=""}),o.$on("getMyStockSelected",function(e,n){t.currSelectedType=e,t.currSelectedName=n})},mounted:function(){},methods:{removeOneStockMySelected:function(){if(this.stockId=this.$route.params.stockId,""==this.currSelectedType||void 0==this.currSelectedType)o.$emit("success","該股不在某個自選股中，無需移除!");else{var t=this;this.$confirm("是否確定從"+t.currSelectedName+"中移除?").then(function(){var e="/api/stock/removeOneStockMySelected?stockId="+t.stockId+"&selectedType="+t.currSelectedType;t.$api.post(e,null,function(e){o.$emit("success","移除成功!"),o.$emit("autoSelectedMyStockSelectedType",t.currSelectedType,t.currSelectedName)})}).catch(function(t){console.log("Exception---\x3e"+t)})}},saveCompanyStatus:function(){if(this.stockId=this.$route.params.stockId,void 0==this.stockId||""==this.stockId);else{var t=$("#formControlTextarea1").val(),e="/api/stock/saveCompanyStatus?stockId="+this.stockId+"&companyStatus="+t;this.$api.post(e,null,function(t){o.$emit("success","保存公司現況成功!")})}},getData:function(t){var e=this;this.company="",this.no="",this.typeName="",this.electronics="",this.companyStatus="",this.typeName="",this.type="",void 0!=t&&""!=t&&0!=t&&this.$api.get("/api/stock/getStockData/"+t,null,function(t){""!=t&&void 0!=t&&(e.company=t.company,e.no=t.no,e.typeName=t.typeName,e.electronics=t.electronics,e.companyStatus=t.companyStatus,e.typeName=t.typeName,0==t.type?e.type="上市":1==t.type&&(e.type="上櫃"))})}},watch:{$route:function(t,e){this.stockId=this.$route.params.stockId,this.getData(this.stockId)}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"float-left mt-1 text-center"},[n("div",[n("h4",[t._v(t._s(t.company))]),t._v(" "),n("h6",[t._v("("+t._s(t.no)+")")]),t._v(" "),""!=t.type?n("h6",[t._v(t._s(t.type)+" - "+t._s(t.typeName))]):t._e()])]),t._v(" "),n("div",{staticClass:"float-left pl-2 mt-3"},[n("div",{staticClass:"py-2"},[n("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",modifiers:{modalPrevent:!0}}],attrs:{href:"#"}},[n("span",{staticClass:"oi oi-plus"})])]),t._v(" "),n("div",{staticClass:"py-2"},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removeOneStockMySelected(e)}}},[n("span",{staticClass:"oi oi-minus"})])])]),t._v(" "),n("div",{staticClass:"float-left pl-2",staticStyle:{width:"75%"}},[n("b-tabs",[n("b-tab",{attrs:{title:"法人動態",active:""}}),t._v(" "),n("b-tab",{attrs:{title:"資卷變化"}}),t._v(" "),n("b-tab",{attrs:{title:"大戶籌碼"}}),t._v(" "),n("b-tab",{attrs:{title:"主力進出"}}),t._v(" "),n("b-tab",{attrs:{title:"周報股利"}}),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.companyStatus,expression:"companyStatus"}],staticClass:"float-left form-control my-3",staticStyle:{width:"75%"},attrs:{id:"formControlTextarea1"},domProps:{value:t.companyStatus},on:{input:function(e){e.target.composing||(t.companyStatus=e.target.value)}}}),t._v(" "),n("b-button",{staticClass:"float-left ml-3 my-3",attrs:{variant:"success"},on:{click:t.saveCompanyStatus}},[t._v("保存")])],1)],1)],1)])},staticRenderFns:[]};var F=n("VU/8")(P,A,!1,function(t){n("A/d9")},"data-v-7a9bb3b6",null).exports,R={data:function(){return{company:"",stockId:"",selectedType:"0",numberOfPages:0,currentPage:1,displayAll:0,type:1,fromSelectedProcess:0,pageSize:PAGE_SIZE,fields:{content_title:{label:'<span id="content_id">: </span>個股新聞與研究報告',sortable:!0}},items:[],intervalid1:null}},created:function(){var t=this;this.getData(),o.$on("emptyNews",function(){t.cleanNews()}),o.$on("initCurrentPage",function(e){t.currentPage=e}),o.$on("selectedProcess",function(){if(t.stockId=t.$route.params.stockId,void 0!=t.stockId){console.log("News autoFetch stockNews started......"+t.stockId);var e="/api/stock/fetchLatestNews?stockId="+t.stockId;t.$api.post(e,null,function(e){t.getData(),console.log("News autoFetch stockNews end......"+t.stockId)})}}),o.$on("getMyStockSelected",function(e,n){t.selectedType=void 0==e?"0":e}),o.$on("getAllStockMyStore",function(){t.selectedType="0"})},mounted:function(){},methods:{linkGen:function(t){return{path:"/content/"+this.stockId+"/"+t}},cleanNews:function(){this.items=[],$("#content_id").text(""),this.numberOfPages=0,this.currentPage=1},showExcludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.type=1,this.displayAll=0,this.getData(1)},showIncludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.type=0,this.displayAll=0,this.getData(1)},showExcludeNewsAll:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.type=1,this.displayAll=1,this.getData(1)},showIncludeNewsAll:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.type=0,this.displayAll=1,this.getData(1)},getData:function(t){var e=this;void 0==t&&(t=this.$route.params.pageNum),this.stockId=this.$route.params.stockId,void 0!=this.stockId&&""!=this.stockId&&0!=this.stockId&&this.$api.get("/api/stock/getStockData/"+this.stockId,null,function(n){e.company=n.company;var a="";if(1==e.displayAll){a=(void 0==e.type||0==e.type?"/api/stock/getNewsIncludeBystockId/":"/api/stock/getNewsExcludeBystockId/")+0+"/"+e.selectedType+"/"+t+"/"+e.pageSize}else{var s=e.stockId;a=(void 0==e.type||0==e.type?"/api/stock/getNewsIncludeBystockId4All/":"/api/stock/getNewsExcludeBystockId4All/")+s+"/"+t+"/"+e.pageSize}e.$api.get(a,null,function(t){e.numberOfPages=t.pageTotal;var n=t.rows;e.items=[];for(var a=0;a<n.length;a++){var s='<a target="_blank" href="'+n[a].url+'">'+n[a].subject+"</a>";e.items.push({content_title:s})}}),$("#content_id").text(e.company+": ").parent().remove()})}},watch:{$route:function(t,e){this.stockId=this.$route.params.stockId,void 0!=this.stockId&&""!=this.stockId&&0!=this.stockId?this.getData():this.cleanNews()}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container-fluid"},[n("nav",{staticClass:"nav nav-pills nav-justified"},[n("div",{staticClass:"pt-2 pr-2"},[n("h5",[t._v(t._s(this.company))])]),t._v(" "),n("a",{staticClass:"nav-link active",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNews(e)}}},[t._v("個股新聞")]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNews(e)}}},[t._v("焦點新聞")]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNewsAll(e)}}},[t._v("自選股全新聞")]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNewsAll(e)}}},[t._v("自選股全焦點")])])]),t._v(" "),n("div",{staticClass:"text container-fluid"},[n("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"content_title",fn:function(e){return n("span",{domProps:{innerHTML:t._s(e.value)}})}}])}),t._v(" "),n("b-pagination-nav",{attrs:{align:"center","number-of-pages":t.numberOfPages,"base-url":"#","link-gen":t.linkGen},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},staticRenderFns:[]};var V=n("VU/8")(R,U,!1,function(t){n("3URq")},"data-v-67c5c47e",null).exports;function O(t,e){for(var n=[],a=0,s=t.values.length;a<s;a++)if(a<e)n.push("-");else{for(var o=0,i=0;i<e;i++)o+=t.values[a-i][1];n.push((o/e).toFixed(2))}return n}function L(t,e){var n=function(t){for(var e=[],n=[],a=[],s=0;s<t.length;s++)e.push(t[s].splice(0,1)[0]),a.push(t[s][3]-.23),n.push(t[s]);return{categoryData:e,now:a,values:n}}(t),a={col:{up:"rgb(153, 14, 14)",down:"#19b34c",m5:"#f00",m10:"yellow",m20:"#dd1ce0",m60:"purple"},st:0,ed:100};return{tooltip:{trigger:"axis",position:[10,"70%"],formatter:"{a0}:{c0}  {a1}:{c1} {a2}:{c2}",borderWidth:1,textStyle:{color:"#fff",width:"100%"},axisPointer:{type:"cross",label:{show:!0,color:"#ff0",rich:{a:{}}},crossStyle:{type:"solid"}}},legend:{data:["分时",e+"K","5"+e+"平均线","10"+e+"平均线","20"+e+"平均线","60"+e+"平均线","振幅","增加"]},grid:[{top:"10%",left:"5%",right:"5%",height:"60%"},{top:"75%",left:"5%",right:"5%",height:"18%"}],axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},xAxis:[{type:"category",axisLine:{onZero:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:n.categoryData},{type:"category",gridIndex:1,axisTick:{show:!1},axisLabel:{show:!1},data:n.categoryData}],yAxis:[{axisLabel:{color:a.col.y},scale:!0,splitLine:{show:!0,lineStyle:{color:["#888"],type:"dotted"}}},{gridIndex:1,xAxisIndex:1,splitArea:{show:!1},splitLine:{show:!0,lineStyle:{color:["#888"],type:"dotted"}},axisLabel:{show:!0,color:a.col.y}}],dataZoom:[{type:"inside",xAxisIndex:[0,1],start:a.st,end:a.ed},{show:!1,type:"slider",xAxisIndex:[0,1],y:"94%",start:a.st,end:a.ed}],series:[{type:"line",name:"5"+e+"平均线",data:O(n,5),lineStyle:{normal:{color:a.col.m5}},itemStyle:{normal:{color:a.col.m5}}},{type:"line",name:"10"+e+"平均线",data:O(n,10),lineStyle:{normal:{color:a.col.m10}},itemStyle:{normal:{color:a.col.m10}}},{type:"line",name:"20"+e+"平均线",data:O(n,20),lineStyle:{normal:{color:a.col.m20}},itemStyle:{normal:{color:a.col.m20}}},{type:"line",name:"60"+e+"平均线",data:O(n,60),lineStyle:{normal:{color:a.col.m60}},itemStyle:{normal:{color:a.col.m60}}},{type:"line",name:"振幅",xAxisIndex:1,yAxisIndex:1,data:function(t){var e=[];e.push(0);for(var n=0,a=t.values.length;n<a;n++)if(n>0){var s=Math.abs(t.values[n][3]-t.values[n][2])/t.values[n-1][1]*100;e.push(s.toFixed(2))}return e}(n)},{type:"bar",name:"增加",xAxisIndex:1,yAxisIndex:1,data:function(t){var e=[];e.push(0);for(var n=0,a=t.values.length;n<a;n++)if(n>0){var s=(t.values[n][1]-t.values[n-1][1])/t.values[n-1][1]*100;e.push(s.toFixed(2))}return e}(n),itemStyle:{normal:{color:function(t){return t.data>=0?a.col.up:a.col.down}}}},{type:"k",name:"日K",itemStyle:{normal:{color:a.col.up,color0:a.col.down,borderColor:a.col.up,borderColor0:a.col.down}},data:n.values}]}}function K(t,e,n){switch(t){case"y ":return n.setFullYear(n.getFullYear()+e),n;case"q ":return n.setMonth(n.getMonth()+3*e),n;case"m ":return n.setMonth(n.getMonth()+e),n;case"w ":return n.setDate(n.getDate()+7*e),n;case"d ":return n.setDate(n.getDate()+e),n;case"h ":return n.setHours(n.getHours()+e),n;case"m ":return n.setMinutes(n.getMinutes()+e),n;case"s ":return n.setSeconds(n.getSeconds()+e),n;default:return n.setDate(d.getDate()+e),n}}var q={components:{},data:function(){return{stockId:"",kline:null,resize:!0}},mounted:function(){},created:function(){this.getData(),this.getRecentDate()},methods:{openNewKline:function(t){console.log(t.componentType+","+t.name)},showZoomKline:function(){},getRecentDate:function(){var t=new Date;return{startDate:K("d ",-RECENT_DATE,t).toLocaleDateString(),endDate:(new Date).toLocaleDateString()}},getData:function(){var t=this,e=this,n=[],a=this.getRecentDate();if(this.stockId=this.$route.params.stockId,void 0!=this.stockId&&""!=this.stockId&&0!=this.stockId){var s="/api/stock/selectHistory?stockId="+this.stockId+"&type=0&startDate="+a.startDate+"&endDate="+a.endDate;this.$api.get(s,null,function(a){if(void 0!=a&&a.length>0){for(var s=0;s<a.length;s++){var o=[a[s].date,a[s].opening,a[s].highest,a[s].lowest,a[s].closing,a[s].vol];n.push(o)}t.kline=L(n,"日")}else e.$alerts.error("找不到數據:"+t.stockId),t.kline=null})}}},watch:{$route:function(t,e){this.getData()}}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"w-100 px-1 mx-1 kline-height"},[n("p",{staticClass:"font-weight-bold text-center align-middle px-1 mx-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showZoomKline(e)}}},[t._v("\n      日線\n    ")])]),t._v(" "),n("chart",{staticClass:"pl-2",attrs:{options:t.kline,"auto-resize":t.resize},on:{click:t.openNewKline}})],1)},staticRenderFns:[]};var z=n("VU/8")(q,B,!1,function(t){n("RM+5")},null,null).exports,W={components:{},data:function(){return{stockId:"",kline:null,resize:!0}},mounted:function(){},created:function(){this.getData(),this.getRecentDate()},methods:{openNewKline:function(t){console.log(t.componentType+","+t.name)},showZoomKline:function(){},getRecentDate:function(){var t=new Date;return{startDate:K("d ",-RECENT_DATE,t).toLocaleDateString(),endDate:(new Date).toLocaleDateString()}},getData:function(){var t=this,e=this,n=[],a=this.getRecentDate();if(this.stockId=this.$route.params.stockId,void 0!=this.stockId&&""!=this.stockId&&0!=this.stockId){var s="/api/stock/selectHistory?stockId="+this.stockId+"&type=1&startDate="+a.startDate+"&endDate="+a.endDate;this.$api.get(s,null,function(a){if(void 0!=a&&a.length>0){for(var s=0;s<a.length;s++){var o=[a[s].date,a[s].opening,a[s].highest,a[s].lowest,a[s].closing,a[s].vol];n.push(o)}t.kline=L(n,"日")}else e.$alerts.error("找不到數據:"+t.stockId),t.kline=null})}}},watch:{$route:function(t,e){this.getData()}}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"w-100 px-1 mx-1 kline-height"},[n("p",{staticClass:"font-weight-bold text-center align-middle px-1 mx-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showZoomKline(e)}}},[t._v("\n      周線\n    ")])]),t._v(" "),n("chart",{staticClass:"pl-2",attrs:{options:t.kline,"auto-resize":t.resize},on:{click:t.openNewKline}})],1)},staticRenderFns:[]};var H=n("VU/8")(W,Z,!1,function(t){n("vnqu")},null,null).exports,G={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},j=n("VU/8")({data:function(){return{}},methods:{}},G,!1,null,null,null).exports,Y={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},J=n("VU/8")({data:function(){return{}},methods:{}},Y,!1,null,null,null).exports,X=n("Gu7T"),Q=n.n(X);function tt(){return{legend:{},tooltip:{},dataset:{source:[["Product","2015","2016","2017"],["Matcha Latte"].concat(Q()(et())),["Milk Tea"].concat(Q()(et())),["Cheese Cocoa"].concat(Q()(et())),["Walnut Brownie"].concat(Q()(et()))]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"}]}}function et(){return[0,0,0].map(function(t){return Math.round(300+700*Math.random())/10})}var nt={components:{},data:function(){return{bar:tt()}},mounted:function(){},created:function(){},methods:{}},at={render:function(){var t=this.$createElement;return(this._self._c||t)("chart",{attrs:{options:this.bar}})},staticRenderFns:[]};var st=n("VU/8")(nt,at,!1,function(t){n("zY5Q")},null,null).exports,ot={components:{},data:function(){return{bar:tt()}},mounted:function(){},created:function(){},methods:{}},it={render:function(){var t=this.$createElement;return(this._self._c||t)("chart",{attrs:{options:this.bar}})},staticRenderFns:[]};var ct=n("VU/8")(ot,it,!1,function(t){n("FnIi")},null,null).exports,rt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},lt=n("VU/8")({data:function(){return{}},methods:{}},rt,!1,null,null,null).exports,ut={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},dt=n("VU/8")({data:function(){return{}},methods:{}},ut,!1,null,null,null).exports,pt={components:{KDay:z,KWeek:H,RsiDay:j,RsiWeek:J,DmiDay:st,DmiWeek:ct,MacdDay:lt,MacdWeek:dt},data:function(){return{}},created:function(){},mounted:function(){},methods:{},watch:{}},ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",[e("b-col",{attrs:{cols:"12",sm:"12"}},[e("b-row",[e("b-col",[e("KDay")],1),this._v(" "),e("b-col",[e("KWeek")],1)],1)],1)],1)},staticRenderFns:[]};var mt={components:{MainLayout:_,StockMyData:D,StockMySelectedType:E,StockDetail:F,StockNews:V,StockKLineChart:n("VU/8")(pt,ft,!1,function(t){n("vgYc")},"data-v-285a260b",null).exports}},ht={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main-layout",[e("b-container",{staticClass:"border",attrs:{fluid:""}},[e("b-row",[e("b-col",{staticClass:"border-right border-primary pr-0 pl-2",staticStyle:{"max-width":"100px"}},[e("stock-my-data")],1),this._v(" "),e("b-col",{staticStyle:{"max-width":"100%"}},[e("b-row",[e("b-col",{staticClass:"pl-1",attrs:{cols:"12",sm:"12"}},[e("stock-my-selected-type"),this._v(" "),e("stock-detail")],1)],1),this._v(" "),e("b-row",[e("b-col",{staticClass:"pl-1",attrs:{cols:"9",sm:"9"}},[e("StockKLineChart"),this._v(" "),e("b-row",{staticClass:"mt-3"},[e("b-col",{staticClass:"pl-0 pr-0",attrs:{cols:"12",sm:"12"}},[e("stock-news")],1)],1)],1),this._v(" "),e("b-col",{staticClass:"pl-0 pr-0",attrs:{cols:"3",sm:"3"}},[e("img",{staticClass:"w-100",attrs:{src:n("vhDn")}}),this._v(" "),e("img",{staticClass:"w-100",attrs:{src:n("Pbsv")}})])],1)],1)],1)],1)],1)},staticRenderFns:[]},vt=n("VU/8")(mt,ht,!1,null,null,null).exports,yt=[],gt={components:{MainLayout:_},data:function(){return{items:[],numberOfPages:0,currentPage:this.$route.params.pageNum,type:1,pageSize:PAGE_SIZE,fields:{content_title:{label:'<span id="content_id">: </span>市場重大新聞',sortable:!0}}}},created:function(){var t=this;o.$on("initCurrentPage",function(e){t.currentPage=e}),this.timeOutsetInterval()},destroyed:function(){null!=this.intervalid1&&clearInterval(this.intervalid1)},methods:{timeOutsetInterval:function(){var t=this;null!=this.intervalid1&&clearInterval(this.intervalid1);var e=this;this.autoFetch(e),this.intervalid1=setInterval(function(){t.autoFetch(e)},6e5)},autoFetch:function(t){var e=this;o.$emit("loading","正在自動獲取最新的新聞中...",!0),console.log("News autoFetch importantNews started......");t.$api.post("/api/stock/fetchImportantLatestNews",null,function(t){o.$emit("success","自動更新新聞成功!"),e.getData(1),console.log("News autoFetch importantNews end......")})},linkGen:function(t){return{path:"/importantNews/"+t}},showExcludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.type=1,this.$router.push("/importantNews/1"),this.getData(1)},showIncludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.type=0,this.$router.push("/importantNews/1"),this.getData(1)},getData:function(t){var e=this;this.currentPage=void 0!=t?t:this.$route.params.pageNum,this.items=[],yt=[];var n=(void 0==this.type||0==this.type?"/api/stock/getImportantNewsInclude/":"/api/stock/getImportantNewsExclude/")+this.currentPage+"/"+this.pageSize;this.$api.get(n,null,function(t){e.numberOfPages=t.pageTotal,$(t.rows).each(function(){var t='<a target="_blank" href="'+this.url+'">'+this.froms+"</a>";yt.push({content_title:t})}),e.items=yt,$("#content_id").parent().remove()})}},watch:{$route:function(t,e){this.getData()}}},kt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[[n("nav",{staticClass:"mt-3 ml-3 nav nav-pills nav-justified"},[n("a",{staticClass:"nav-link active",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNews(e)}}},[t._v("市場重大新聞")]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNews(e)}}},[t._v("市場焦點新聞")])]),t._v(" "),n("div",{staticClass:"text container-fluid"},[n("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"content_title",fn:function(e){return n("span",{domProps:{innerHTML:t._s(e.value)}})}}])}),t._v(" "),n("b-pagination-nav",{attrs:{align:"center","number-of-pages":t.numberOfPages,"base-url":"#","link-gen":t.linkGen}})],1)]],2)},staticRenderFns:[]};var wt=n("VU/8")(gt,kt,!1,function(t){n("4V5R")},"data-v-3b82c474",null).exports,St={components:{MainLayout:_},data:function(){return{file:null,items:[]}},created:function(){this.getData()},methods:{update:function(t){var e=this,n=t.target.files[0];this.$api.fileUpload(n,"/api/stock/uploadStockDailyTransactions",function(t){o.$emit("success","導入成功!"),e.getData()}),this.$refs.fileinput.reset()},datePick:function(t){var e=t.target;WdatePicker({el:e,readOnly:!0,dateFmt:"yyyy/MM/dd",lang:"zh-tw"})},selectByDate:function(){this.getData()},getData:function(){var t=this,e=$("#startDate").val(),n=$("#endDate").val();if(void 0!=e&&""!=e){var a="/api/stock/getStockDailyTransactions?startDate="+e+"&endDate="+n;this.$api.get(a,null,function(e){if(e.length>0)for(var n=0;n<e.length;n++){var a=e[n];t.items.push({"成交日期":a.txDate,"股票名稱":"["+a.no+"] "+a.company,"交易種類":a.txKind,"成交數量":a.quantity,"成交價格":a.txPrice,"成交金額":a.txAmount,"手續費":a.fee,"交易稅":a.txTallage,"證所稅":a.zsTallage,"融資金額":a.financingAmount,"利息":a.interest,"借券費":a.debFee,"客戶淨收付":a.customerCharge,"損益":a.profit,"報酬率(%)":a.payRate,"持有成本":a.holdingCost})}else t.items=[]})}}},watch:{$route:function(t,e){}}},bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[[n("div",[n("b-container",{attrs:{fluid:""}},[n("b-row",{staticClass:"p-3"},[n("b-col",{staticClass:"pt-3"},[n("b",[t._v("請選擇需要導入的每天買入賣出股文件:")])])],1),t._v(" "),n("b-row",[n("b-col",[n("b-form-file",{ref:"fileinput",staticClass:"p-3",attrs:{id:"file1",placeholder:"Please choose a file."},on:{change:t.update},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1),t._v(" "),n("b-row",[n("b-col",[n("form",{staticClass:"p-3",on:{submit:function(e){return e.preventDefault(),t.selectByDate(e)}}},[n("input",{staticClass:"form-control w-25 float-left",attrs:{id:"startDate",placeholder:"請選擇開始日期",required:"",type:"text",autocomplete:"off"},on:{click:t.datePick}}),t._v(" "),n("div",{staticClass:"float-left px-3"},[t._v(" - ")]),t._v(" "),n("input",{staticClass:"form-control w-25 float-left",attrs:{id:"endDate",placeholder:"請選擇結束日期",type:"text",autocomplete:"off"},on:{click:t.datePick}}),t._v(" "),n("b-button",{staticClass:"px-3",attrs:{variant:"primary",type:"submit"}},[t._v("查詢")])],1),t._v(" "),n("p",{staticClass:"p-3 mb-2 bg-info text-white"},[t._v("每天買入賣出股列表：")]),t._v(" "),n("b-table",{attrs:{hover:"",items:t.items}})],1)],1)],1)],1)]],2)},staticRenderFns:[]};var _t=n("VU/8")(St,bt,!1,function(t){n("k49T")},"data-v-56223567",null).exports,xt=n("Lokx"),$t=n.n(xt),It={components:{MainLayout:_,Autocomplete:y.a},data:function(){return{name:"",currSelectedType:"",initNumber:50,options:[{value:"",text:"Please select..."}],list:[],items:[]}},created:function(){this.getData()},mounted:function(){var t=this.$api;$t.a.create(stockMySelectedItem,{handle:".move-item",animation:150,onUpdate:function(e){e.item;var n=[];if($("#stockMySelectedItem button").each(function(t,e){var a={type:$(e).attr("id"),name:$(e).attr("data")};n.push(a)}),n.length>0){var a={changeStockMySelectedTypeDtos:n};t.post("/api/stock/changeStockMySelectedType",a,function(t){o.$emit("success","調整自選股顯示順序成功!")})}}}),$t.a.create(listWithHandle,{handle:".oi-move",animation:150})},methods:{clearName:function(){this.name="",this.$refs.focusThis.focus()},handleOk:function(t){t.preventDefault(),this.name?this.handleSubmit():alert("请输入自選股名称!")},handleSubmit:function(){this.saveData(this.name),this.clearName(),this.$refs.modal.hide()},saveData:function(t){var e=this,n="/api/stock/saveStockMySelectedType?name="+t;this.$api.post(n,null,function(t){e.getData()})},clearName2:function(){this.name="",this.$refs.focusThis2.focus()},handleOk2:function(t){t.preventDefault(),this.name?this.handleSubmit2():alert("请输入需要修改的自選股名称!")},handleSubmit2:function(){this.renameStockMydataName(this.name),this.clearName2(),this.$refs.modal2.hide()},renameStockMydataName:function(t){var e=this;if(""==this.currSelectedType)alert("請先選擇對應的自選股名稱!");else{var n="/api/stock/renameStockMydataName?selectedType="+this.currSelectedType+"&name="+t;this.$api.post(n,null,function(t){e.getData(),o.$emit("success","修改名稱成功!")})}},save2StockMyData:function(){if(""==this.currSelectedType)alert("請先選擇對應的自選股名稱!");else{var t=[];if($(".form-control input[type='hidden']").each(function(e,n){var a=$(n).val();""!=a&&t.push(a)}),t.length>0){var e={selectedType:this.currSelectedType,stockIds:t};this.$api.post("/api/stock/saveAllStockMySelected",e,function(t){o.$emit("success","保存成功!")})}}},isSelected:function(t){return this.currSelectedType==t?"warning":"success"},getUrl:function(t){return"/api/stock/search4StockMyData?query="+t},selectedProcess:function(t,e){$(".form-control input[type='hidden']").each(function(n,a){var s=$(a).val();""!=s&&s==t.value&&(e.clear(),o.$emit("alerts",t.display+"已經存在!"))})},formattedDisplay:function(t){return t.no+" "+t.company},removeStockMySelected:function(t,e){this.$route.params.stockId;var n=this;this.$confirm("是否確定從"+e+"中移除?").then(function(){var e="/api/stock/removeStockMySelected?selectedType="+t;n.$api.post(e,null,function(t){n.getData(),n.currSelectedType="",n.list=[]})}).catch(function(t){console.log("Exception---\x3e"+t)})},changedValue:function(t){this.currSelectedType=t,$(".empty-form-control input").val(""),this.getMyStockMySelected(t)},getMyStockMySelected:function(t){var e=this;this.list=[],""!=t&&this.$api.get("/api/stock/getStockMyDatasByType/"+t,null,function(t){e.list=t})},getData:function(){var t=this;this.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){t.items=e})}}},Dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("div",[n("div",{attrs:{id:"stockMySelectedItem"}},t._l(t.items,function(e){return n("span",{staticClass:"move-item"},[n("b-button",{attrs:{variant:t.isSelected(e.type),id:e.type,data:e.name},on:{click:function(n){t.changedValue(e.type)}}},[t._v("\n            "+t._s(e.name)+"\n        "),n("span",{attrs:{"aria-hidden":"true"},on:{click:function(n){n.preventDefault(),t.removeStockMySelected(e.type,e.name)}}},[t._v("×")])])],1)})),t._v(" "),n("div",{staticClass:"float-right w-25"},[n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",modifiers:{modalPrevent:!0}}],attrs:{variant:"info"}},[t._v("添加")]),t._v(" "),""!=t.currSelectedType?n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent2",modifiers:{modalPrevent2:!0}}],attrs:{variant:"info"}},[t._v("修改名稱")]):t._e(),t._v(" "),""!=t.currSelectedType?n("b-btn",{attrs:{variant:"info"},on:{click:t.save2StockMyData}},[t._v("保存")]):t._e(),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modalPrevent",title:"请输入自選股名称"},on:{ok:t.handleOk,shown:t.clearName}},[n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-input",{ref:"focusThis",attrs:{type:"text",placeholder:"输入自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),t._v(" "),n("b-modal",{ref:"modal2",attrs:{id:"modalPrevent2",title:"请输入需要修改的自選股名称"},on:{ok:t.handleOk2,shown:t.clearName2}},[n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit2(e)}}},[n("b-form-input",{ref:"focusThis2",attrs:{type:"text",placeholder:"请输入需要修改的自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],1),t._v(" "),n("div",{attrs:{id:"listWithHandle"}},[t._l(t.list,function(e,a){return n("div",{staticClass:"list-group-item float-left wd-fixed py-1 my-1"},[n("span",{staticClass:"badge"},[t._v(t._s(a+1))]),t._v(" "),n("span",{staticClass:"oi oi-move",attrs:{"aria-hidden":"true"}}),t._v(" "),n("autocomplete",{ref:"autocomplete"+a,refInFor:!0,attrs:{source:t.getUrl,"input-class":"form-control","results-property":"data","results-display":t.formattedDisplay,initialValue:e.stockId,initialDisplay:e.no+" "+e.company},on:{selected:t.selectedProcess}})],1)}),t._v(" "),t._l(t.initNumber-t.list.length,function(e){return""!=t.currSelectedType?n("div",{staticClass:"list-group-item float-left wd-fixed py-1 my-1"},[n("span",{staticClass:"badge"},[t._v(t._s(e+t.list.length))]),t._v(" "),n("span",{staticClass:"oi oi-move",attrs:{"aria-hidden":"true"}}),t._v(" "),n("autocomplete",{ref:"autocomplete"+e,refInFor:!0,attrs:{source:t.getUrl,"input-class":"form-control empty-form-control","results-property":"data","results-display":t.formattedDisplay},on:{selected:t.selectedProcess}})],1):t._e()}),t._v(" "),n("div",{staticClass:"clearfix"})],2)])])},staticRenderFns:[]};var Ct=n("VU/8")(It,Dt,!1,function(t){n("9kpU")},"data-v-6da1d143",null).exports,Nt={components:{MainLayout:_},data:function(){return{excludesItems:[],includesItems:[]}},created:function(){this.getExcludesItems(),this.getIncludesItems()},mounted:function(){},methods:{saveExcludeItem:function(t){var e=this,n=[];if($(".exclude-item input").each(function(t,e){var a=$(e).val();-1==n.indexOf(a)&&n.push(a)}),n.length>0){var a="/api/stock/saveStockNewsKeyByExclude?keys[]="+n.join();this.$api.post(a,null,function(t){e.getExcludesItems()})}else alert("記錄不能為空!")},saveIncludeItem:function(t){var e=this,n=[];if($(".include-item input").each(function(t,e){var a=$(e).val();-1==n.indexOf(a)&&n.push(a)}),n.length>0){var a="/api/stock/saveStockNewsKeyByInclude?keys[]="+n.join();this.$api.post(a,null,function(t){e.getIncludesItems()})}else alert("記錄不能為空!")},addExcludeItem:function(t){$("#add-exclude-item").before('\n      <div class="exclude-item w-5 float-left p-1">\n          <input type="text" class="form-control" />\n      </div>\n      ')},addIncludeItem:function(t){$("#add-include-item").before('\n      <div class="include-item w-5 float-left p-1">\n          <input type="text" class="form-control" />\n      </div>\n      ')},getExcludesItems:function(){var t=this;this.excludesItems=[];this.$api.get("/api/stock/getStockNewsKeyByExclude",null,function(e){$(".exclude-item").remove(),t.excludesItems=e})},getIncludesItems:function(){var t=this;this.includesItems=[];this.$api.get("/api/stock/getStockNewsKeyByInclude",null,function(e){$(".include-item").remove(),t.includesItems=e})}}},Tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("div",{staticClass:"border border-primary m-2 float-left",staticStyle:{width:"45%"}},[n("h5",{staticClass:"text-primary p-1"},[t._v("去重關鍵字：\n    "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.saveExcludeItem(e)}}},[t._v("保存")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.addExcludeItem(e)}}},[t._v("添加")])]),t._v(" "),t._l(t.excludesItems,function(t){return n("div",{staticClass:"exclude-item w-5 float-left p-1"},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.key}})])}),t._v(" "),n("div",{staticClass:"w-3 float-left p-1",attrs:{id:"add-exclude-item"}}),t._v(" "),n("div",{staticClass:"clearfix"})],2),t._v(" "),n("div",{staticClass:"border border-success m-2 float-left",staticStyle:{width:"45%"}},[n("h5",{staticClass:"text-success p-1"},[t._v("焦點關鍵字：\n    "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.saveIncludeItem(e)}}},[t._v("保存")]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.addIncludeItem(e)}}},[t._v("添加")])]),t._v(" "),t._l(t.includesItems,function(t){return n("div",{staticClass:"include-item w-5 float-left p-1"},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.key}})])}),t._v(" "),n("div",{staticClass:"w-3 float-left p-1",attrs:{id:"add-include-item"}}),t._v(" "),n("div",{staticClass:"clearfix"})],2),t._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]};var Mt=n("VU/8")(Nt,Tt,!1,function(t){n("oZvZ")},"data-v-e6b400c4",null).exports;s.default.use(p.a);var Et=new p.a({mode:"hash",routes:[{path:"/",component:vt},{path:"/login",component:h},{path:"/index",component:vt},{path:"/content/:stockId",component:vt,children:[{path:":pageNum",component:vt}]},{path:"/importantNews/:pageNum",component:wt},{path:"/stockDailyTransactions",component:_t},{path:"/editMySelectedType",component:Ct},{path:"/newsSettings",component:Mt},{path:"/kday",component:z},{path:"/kweek",component:H},{path:"/rsiday",component:j},{path:"/rsiweek",component:J},{path:"/dmiday",component:st},{path:"/dmiweek",component:ct},{path:"/macdday",component:lt},{path:"/macdweek",component:dt}]}),Pt=n("e6fC"),At=(n("qb6w"),n("9M+g"),n("DwKh"),n("XGXU")),Ft=n.n(At),Rt={render:function(){var t=this.$createElement;return(this._self._c||t)("transition",{attrs:{name:"fade-up"}})},staticRenderFns:[]};var Ut=n("VU/8")({name:"Vue-Message",data:function(){return{text:"Hello World",position:"bottom",duration:3e3,background:"rgba(7,17,27,0.8)"}},mounted:function(){}},Rt,!1,function(t){n("tYkC")},null,null).exports,Vt={showMessage:!1,showMessageNew:null,time:null,install:function(t,e){"undefined"!=typeof window&&window.Vue&&(t=window.Vue),t.component("Message",Ut),t.prototype.$msg=function(n,a){var s=Ut.data();for(var o in e)s[o]=e[o];if(!n instanceof Object)if(n)s.text=n;else for(var i in n)s[i]=n[i];else if("string"==typeof n)s.text=n;else for(var c in n)s[c]=n[c];if((Vt.showMessage||Vt.showMessageNew)&&(clearTimeout(Vt.time),Vt.showMessage=!1,document.body.removeChild(Vt.showMessageNew.$mount().$el),Vt.showMessageNew=null),!Vt.showMessageNew){var r=t.extend({template:'<transition name=fade-up><div class="vue-Message '+s.position+'" style="background:'+s.background+'" v-show="isShow">'+s.text+"<Message></Message></div></transition>",data:function(){return{isShow:Vt.showMessage}}});Vt.showMessageNew=new r;var l=Vt.showMessageNew.$mount().$el;document.body.appendChild(l),Vt.showMessageNew.isShow=Vt.showMessage=!0}Vt.time=setTimeout(function(){Vt.showMessageNew.isShow=Vt.showMessage=!1,"function"==typeof a&&a()},s.duration)}}},Ot=Vt;function Lt(t){o.$emit("alerts",t)}function Kt(t){o.$emit("success",t)}function qt(){o.$emit("loading","正在處理中, 請稍候......",!0)}function Bt(){o.$emit("loading","",!1)}var zt="/",Wt=n("mtWM");function Zt(t,e,n,a,s){qt(),Wt({method:t,headers:{"X-Requested-With":"XMLHttpRequest"},url:e,data:"POST"===t||"PUT"===t?n:null,params:"GET"===t||"DELETE"===t?n:null,baseURL:zt,withCredentials:!1}).then(function(t){Bt(),a&&a(t.data)}).catch(function(t){if(Bt(),t)if(console.log("err---\x3e"+t),console.log("failure---\x3e"+s),console.log("err.response.statusText---\x3e"+t.response.statusText),console.log("err.response.data---\x3e"+t.response.data),s)console.log("1---\x3e"),s(t);else if("Unauthorized"==t.response.statusText||-1!=t.response.data.indexOf("code: 906,"))console.log("2---\x3e"),Lt("會話超時，請重新登錄！"),window.location.href="/#/login";else{console.log("3---\x3e"),Lt(t.response.statusText+" : "+t.response.data)}})}var Ht={get:function(t,e,n,a){return Zt("GET",t,e,n,a)},post:function(t,e,n,a){return Zt("POST",t,e,n,a)},put:function(t,e,n,a){return Zt("PUT",t,e,n,a)},delete:function(t,e,n,a){return Zt("DELETE",t,e,n,a)},fileUpload:function(t,e,n,a){return function(t,e,n,a){var s=new FormData;s.append("file",t,t.name),s.append("chunk","0"),qt(),Wt.post(e,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){Bt(),n&&n(t.data)}).catch(function(t){Bt(),console.log("err---\x3e"+t),t.response.statusText,t.response.data,a&&a(t)})}(t,e,n,a)}},Gt={goodTime:function(t){var e=(new Date).getTime()-new Date(t).getTime(),n=e/31104e6,a=e/2592e6,s=e/6048e5,o=e/864e5,i=e/36e5,c=e/6e4;return n>=1?"发表于 "+~~n+" 年前":a>=1?"发表于 "+~~a+" 个月前":s>=1?"发表于 "+~~s+" 周前":o>=1?"发表于 "+~~o+" 天前":i>=1?"发表于 "+~~i+" 个小时前":c>=1?"发表于 "+~~c+" 分钟前":"刚刚"}},jt=(n("8e4C"),n("mtWM"),n("cs+8")),Yt=n.n(jt);s.default.use(Pt.a),s.default.use(Ft.a),s.default.use(Ot,{position:"top",duration:999999999}),s.default.prototype.$api=Ht,s.default.prototype.$alerts=a,s.default.prototype.$utils=Gt,s.default.config.productionTip=!1,s.default.component("chart",Yt.a),new s.default({el:"#app",router:Et,components:{App:u},template:"<App/>"})},Pbsv:function(t,e,n){t.exports=n.p+"static/img/stock04.519da72.png"},"RM+5":function(t,e){},VJET:function(t,e){},ZWwq:function(t,e){},"Za+S":function(t,e){},k49T:function(t,e){},oZvZ:function(t,e){},qb6w:function(t,e){},tYkC:function(t,e){},vgYc:function(t,e){},vhDn:function(t,e,n){t.exports=n.p+"static/img/stock02.64af7c8.png"},vnqu:function(t,e){},ws5n:function(t,e){},zY5Q:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);