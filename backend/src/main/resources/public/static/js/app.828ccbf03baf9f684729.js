webpackJsonp([1],{"+KGt":function(t,e){},"8e4C":function(t,e){window.PAGE_SIZE=20},Cctb:function(t,e){},FOyD:function(t,e,s){t.exports=s.p+"static/img/stock03.2874673.png"},"G+ai":function(t,e){},"HD/Y":function(t,e){},K6N9:function(t,e){},LdQD:function(t,e){},MtsD:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("O534"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=s("Aizv")({name:"app"},i,!1,function(t){s("UnKv")},null,null).exports,o=s("1eSk"),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-navbar",{attrs:{type:"dark",variant:"primary",toggleable:""}},[s("b-navbar-toggle",{attrs:{target:"nav_dropdown_collapse"}}),t._v(" "),s("b-collapse",{attrs:{"is-nav":"",id:"nav_dropdown_collapse"}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{href:"#"}},[t._v("Home")]),t._v(" "),s("b-nav-item",{attrs:{href:"#"}},[t._v("Link")]),t._v(" "),s("b-nav-item-dropdown",{attrs:{text:"台股",right:""}},[s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/")}}},[t._v("\n          自選股\n        ")]),t._v(" "),s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/importantNews/1")}}},[t._v("\n          市場重大新聞\n        ")])],1),t._v(" "),s("b-nav-item-dropdown",{attrs:{text:"個性化設置",right:""}},[s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/newsSettings")}}},[t._v("\n          新聞設置\n        ")]),t._v(" "),s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/editMySelectedType")}}},[t._v("\n          自選股\n        ")]),t._v(" "),s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/stockDailyTransactions")}}},[t._v("\n          每天買入賣出股\n        ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"copy"},[this._v("\n  Copy © wenchun\n")])},staticRenderFns:[]},l={components:{Header:s("Aizv")({data:function(){return{}},created:function(){},methods:{go:function(t){this.$router.push(t)}}},c,!1,function(t){s("K6N9")},"data-v-214c5b93",null).exports,Footer:s("Aizv")(null,r,!1,null,null,null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Header"),this._v(" "),this._t("default"),this._v(" "),e("Footer")],2)},staticRenderFns:[]},d=s("Aizv")(l,u,!1,null,null,null).exports,p=new n.default,h=s("GxZn"),f=s.n(h),m=s("KLe2"),v={props:{source:{type:[String,Function,Array,Object],required:!0},placeholder:{default:"Search"},initialValue:{type:[String,Number]},initialDisplay:{type:String},inputClass:{type:[String,Object]},disableInput:{type:Boolean},name:{type:String},resultsProperty:{type:String},resultsValue:{type:String,default:"id"},resultsDisplay:{type:[String,Function],default:"name"},showNoResults:{type:Boolean,default:!0},requestHeaders:{type:Object},clearButtonIcon:{type:String}},data:function(){return{value:null,display:null,results:null,selectedIndex:null,loading:!1,isFocussed:!1,error:null,selectedId:null,selectedDisplay:null,eventListener:!1}},computed:{showResults:function(){return Array.isArray(this.results)||this.hasError},noResults:function(){return Array.isArray(this.results)&&0===this.results.length},noResultMessage:function(){return this.noResults&&!this.isLoading&&this.isFocussed&&!this.hasError&&this.showNoResults},isEmpty:function(){return!this.display},isLoading:function(){return!0===this.loading},hasError:function(){return null!==this.error},listStyle:function(){if(this.isLoading)return{color:"#ccc"}}},methods:{search:function(){switch(this.selectedIndex=null,!0){case"string"==typeof this.source:if(!this.display||this.display.length<1)return;return this.resourceSearch(this.source+this.display);case"function"==typeof this.source:if(!this.display||this.display.length<1)return;return this.resourceSearch(this.source(this.display));case Array.isArray(this.source):return this.arrayLikeSearch();default:throw new TypeError}},resourceSearch:s.n(m)()(function(t){this.display?(this.loading=!0,this.setEventListener(),this.request(t)):this.results=[]},1e3),request:function(t){var e=this;return fetch(t,{method:"get",credentials:"same-origin",headers:this.getHeaders()}).then(function(t){if(t.ok)return e.error=null,t.json();throw new Error("Network response was not ok.")}).then(function(t){e.results=e.setResults(t),0===e.results.length?e.$emit("noResults",{query:e.display}):e.$emit("results",{results:e.results}),e.loading=!1}).catch(function(t){e.error=t.message,e.loading=!1})},getHeaders:function(){var t={Accept:"application/json, text/plain, */*","Content-Type":"application/json"};if(this.requestHeaders)for(var e in this.requestHeaders)t[e]=this.requestHeaders[e];return new Headers(t)},setResults:function(t){return this.resultsProperty&&t[this.resultsProperty]?t[this.resultsProperty]:Array.isArray(t)?t:[]},arrayLikeSearch:function(){var t=this;if(this.setEventListener(),!this.display)return this.results=this.source,this.$emit("results",{results:this.results}),this.loading=!1,!0;this.results=this.source.filter(function(e){return t.formatDisplay(e).toLowerCase().includes(t.display.toLowerCase())}),this.$emit("results",{results:this.results}),this.loading=!1},select:function(t,e){t&&(this.value=this.resultsValue&&t[this.resultsValue]?t[this.resultsValue]:t.id,this.display=this.formatDisplay(t),this.selectedDisplay=this.display,this.$emit("selected",{value:this.value,display:this.display,selectedObject:t},this),this.$emit("input",this.value),this.close())},formatDisplay:function(t){switch(f()(this.resultsDisplay)){case"function":return this.resultsDisplay(t);case"string":if(!t[this.resultsDisplay])throw new Error('"'+this.resultsDisplay+'" property expected on result but is not defined.');return t[this.resultsDisplay];default:throw new TypeError}},focus:function(){this.isFocussed=!0},blur:function(){this.isFocussed=!1},isSelected:function(t){return t===this.selectedIndex},up:function(){null!==this.selectedIndex?this.selectedIndex=0===this.selectedIndex?this.results.length-1:this.selectedIndex-1:this.selectedIndex=this.results.length-1},down:function(){null!==this.selectedIndex?this.selectedIndex=this.selectedIndex===this.results.length-1?0:this.selectedIndex+1:this.selectedIndex=0},enter:function(){null!==this.selectedIndex?(this.select(this.results[this.selectedIndex]),this.$emit("enter",this.display)):this.$emit("nothingSelected",this.display)},clear:function(){this.display=null,this.value=null,this.results=null,this.error=null,this.$emit("clear")},close:function(){this.value&&this.selectedDisplay||this.clear(),this.selectedDisplay!==this.display&&this.value&&(this.display=this.selectedDisplay),this.results=null,this.error=null,this.removeEventListener(),this.$emit("close")},setEventListener:function(){return!this.eventListener&&(this.eventListener=!0,document.addEventListener("click",this.clickOutsideListener,!0),!0)},removeEventListener:function(){this.eventListener=!1,document.removeEventListener("click",this.clickOutsideListener,!0)},clickOutsideListener:function(t){this.$el&&!this.$el.contains(t.target)&&this.close()}},mounted:function(){this.value=this.initialValue,this.display=this.initialDisplay,this.selectedDisplay=this.initialDisplay}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete"},[n("div",{staticClass:"autocomplete__box",class:[t.inputClass,{autocomplete__searching:t.showResults}]},[t.isLoading?n("img",{staticClass:"autocomplete__icon animate-spin",attrs:{src:s("nuJt")}}):n("span",{staticClass:"oi oi-magnifying-glass"}),t._v(" "),n("div",{staticClass:"autocomplete__inputs"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.display,expression:"display"}],attrs:{type:"text",placeholder:t.placeholder,disabled:t.disableInput},domProps:{value:t.display},on:{click:t.search,input:[function(e){e.target.composing||(t.display=e.target.value)},t.search],keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enter(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;t.close(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key))return null;t.up(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key))return null;t.down(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.close(e)}],focus:t.focus,blur:t.blur}}),t._v(" "),n("input",{attrs:{name:t.name,type:"hidden"},domProps:{value:t.value}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!(t.disableInput||t.isEmpty||t.isLoading||t.hasError),expression:"!disableInput && !isEmpty && !isLoading && !hasError"}],on:{click:t.clear}},[t.clearButtonIcon?n("span",{class:t.clearButtonIcon}):n("span",{staticClass:"autocomplete__icon autocomplete--clear oi oi-circle-x"})])]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showResults,expression:"showResults"}],staticClass:"autocomplete__results",style:t.listStyle},[t._t("results",[t.hasError?n("li",{staticClass:"autocomplete__results__item autocomplete__results__item--error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.hasError?t._e():[t._t("firstResult"),t._v(" "),t._l(t.results,function(e,s){return n("li",{key:s,staticClass:"autocomplete__results__item",class:{autocomplete__selected:t.isSelected(s)},domProps:{innerHTML:t._s(t.formatDisplay(e))},on:{click:function(s){s.preventDefault(),t.select(e,s)}}})}),t._v(" "),t._t("lastResult")],t._v(" "),t.noResultMessage?n("li",{staticClass:"autocomplete__results__item autocomplete__no-results"},[t._t("noResults",[t._v("No Results.")])],2):t._e()])],2)])},staticRenderFns:[]};var g=s("Aizv")(v,y,!1,function(t){s("hKOL")},null,null).exports,k={components:{Autocomplete:g},data:function(){return{list:[],firstStockId:"",myStockSelectedName:"庫存股",selected:null,options:[],selectedTypes:[],mySelectedTypes:[]}},created:function(){var t=this;this.getStockMySelectedTypes(),this.getData(),p.$on("getMyStockSelected",function(e,s){void 0!=e&&(t.myStockSelectedName=s,t.$api.get("/api/stock/getStockMyDatasByType/"+e,null,function(e){t.list=e,void 0!=e&&e.length>0?(t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")):(t.push("/content/0/1"),p.$emit("emptyNews"))}))}),p.$on("getAllStockMyStore",function(){t.myStockSelectedName="庫存股",t.$api.get("/api/stock/getStockMyDatasByStore",null,function(e){t.list=e,void 0!=e&&e.length>0?(t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")):(t.push("/content/0/1"),p.$emit("emptyNews"))})})},methods:{getUrl:function(t){return"/api/stock/search4StockData?query="+t},selectedProcess:function(t,e){},formattedDisplay:function(t){return t.no+" "+t.company},push:function(t){this.$router.push(t),p.$emit("initCurrentPage",1)},isSelected:function(t){return t==(void 0==this.$route.params.stockId?this.firstStockId:this.$route.params.stockId)?"selected":""},go:function(t){this.push("/content/"+t+"/1")},toFront:function(){this.$router;var t=$(".selected").get(0),e=$(t).closest("span").prev().find("a").attr("href");void 0!=e&&this.push(e)},toBack:function(){this.$router;var t=$(".selected").get(0),e=$(t).closest("span").next().find("a").attr("href");void 0!=e&&this.push(e)},openModal:function(){this.getStockMySelectedTypes(),this.clearName()},clearName:function(){this.selected=""},handleOk:function(t){t.preventDefault(),this.selected?this.handleSubmit():alert("請選擇自選股!")},handleSubmit:function(){var t=void 0==this.$route.params.stockId?this.firstStockId:this.$route.params.stockId;this.changeStockMySelected(t,this.selected),this.clearName(),this.$refs.modal.hide()},getData:function(){var t=this;this.$api.get("/api/stock/getStockMyDatas",null,function(e){t.list=e,t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")})},getStockMySelectedTypes:function(){var t=this;this.options=[];var e=this.$route.params.stockId;void 0!=e&&""!=e&&this.$api.get("/api/stock/getMySelectedTypesByStockId/"+e,null,function(e){var s=[];if(void 0!=e&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n].type;s.push(i)}t.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){for(var n=0;n<e.length;n++){var i=-1!=s.indexOf(e[n].type);i||t.options.push({value:e[n].type,text:e[n].name,disabled:i})}})})},changeStockMySelected:function(t,e){var s=this,n=[];n.push(t);var i={selectedType:e,stockIds:n};this.$api.post("/api/stock/changeStockMySelected",i,function(e){s.push("/content/"+t+"/1")})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"m-2"},[s("autocomplete",{ref:"autocomplete",attrs:{source:t.getUrl,"input-class":"form-control empty-form-control","results-property":"data","results-display":t.formattedDisplay},on:{selected:t.selectedProcess}})],1),t._v(" "),s("div",{staticClass:"p-2"},[s("b-btn",{attrs:{variant:"primary"},on:{click:t.toFront}},[t._v("<-")]),t._v(" "),s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",modifiers:{modalPrevent:!0}}],attrs:{variant:"primary"}},[t._v("+")]),t._v(" "),s("b-btn",{attrs:{variant:"primary"},on:{click:t.toBack}},[t._v("->")]),t._v(" "),s("b-modal",{ref:"modal",attrs:{id:"modalPrevent",title:"請選擇自選股"},on:{ok:t.handleOk,shown:t.openModal}},[s("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[s("b-form-select",{staticClass:"mb-3",attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)])],1),t._v(" "),s("div",{staticClass:"selected_name"},[s("h5",[t._v(t._s(t.myStockSelectedName))])]),t._v(" "),t._l(t.list,function(e){return s("span",[s("a",{class:t.isSelected(e.stockId),attrs:{href:"/content/"+e.stockId+"/1"},on:{click:function(s){s.preventDefault(),t.go(e.stockId)}}},[t._v("\n      "+t._s(e.company)+"\n    ")]),s("br")])})],2)},staticRenderFns:[]};var _=s("Aizv")(k,w,!1,function(t){s("Cctb")},"data-v-9ee38912",null).exports,b=s("WxFH"),S=s.n(b),L={data:function(){return S()({name:"",items:[],currSelectedType:""},"name","")},created:function(){this.getData()},methods:{getAllStockMyStore:function(){this.selectedTypes=[],this.currSelectedType="0",p.$emit("getAllStockMyStore")},getMyStockSelected:function(t,e){this.currSelectedType=t,p.$emit("getMyStockSelected",t,e)},isSelected:function(t){return this.currSelectedType==t?"warning":"success"},clearName:function(){this.name="",this.$refs.focusThis.focus()},handleOk:function(t){t.preventDefault(),this.name?this.handleSubmit():alert("请输入自選股名称!")},handleSubmit:function(){this.saveData(this.name),this.clearName(),this.$refs.modal.hide()},getData:function(){var t=this;this.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){t.items=e})},saveData:function(t){var e=this,s="/api/stock/saveStockMySelectedType?name="+t;this.$api.post(s,null,function(t){e.getData()})}},watch:{$route:function(t,e){}}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",[s("b-button",{attrs:{variant:""==t.currSelectedType||"0"==t.currSelectedType?"warning":"success"},on:{click:t.getAllStockMyStore}},[t._v("\n    庫存股\n  ")])],1),t._v(" "),t._l(t.items,function(e){return s("span",[s("b-button",{attrs:{variant:t.isSelected(e.type),id:e.type},on:{click:function(s){t.getMyStockSelected(e.type,e.name)}}},[t._v("\n      "+t._s(e.name)+"\n      ")])],1)}),t._v(" "),s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent2",modifiers:{modalPrevent2:!0}}],attrs:{variant:"success"}},[t._v("+")]),t._v(" "),s("b-modal",{ref:"modal",attrs:{id:"modalPrevent2",title:"请输入自選股名称"},on:{ok:t.handleOk,shown:t.clearName}},[s("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[s("b-form-input",{ref:"focusThis",attrs:{type:"text",placeholder:"输入自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],2)},staticRenderFns:[]};var M=s("Aizv")(L,D,!1,function(t){s("hzTk")},"data-v-ca6c7218",null).exports,N={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},I=s("Aizv")({data:function(){return{}},created:function(){},mounted:function(){},methods:{},watch:{}},N,!1,null,null,null).exports,C={data:function(){return{company:"",stockId:"",numberOfPages:0,currentPage:this.$route.params.pageNum,pageSize:15,fields:{content_title:{label:'<span id="content_id">: </span>個股新聞與研究報告',sortable:!0}},items:[]}},created:function(){var t=this;this.getData(),p.$on("emptyNews",function(){t.cleanNews()}),p.$on("initCurrentPage",function(e){t.currentPage=e})},mounted:function(){},methods:{linkGen:function(t){return{path:"/content/"+this.stockId+"/"+t}},cleanNews:function(){this.items=[],$("#content_id").text(""),this.numberOfPages=0,this.currentPage=1},showExcludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(1)},showIncludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(0)},getData:function(t){var e=this;this.stockId=this.$route.params.stockId,void 0!=this.stockId&&""!=this.stockId&&0!=this.stockId&&this.$api.get("/api/stock/getStockData/"+this.stockId,null,function(s){e.company=s.company;var n=void 0==e.$route.params.pageNum?1:e.$route.params.pageNum,i=(0==t?"/api/stock/getNewsIncludeBystockId/":"/api/stock/getNewsExcludeBystockId/")+e.stockId+"/"+n+"/"+e.pageSize;e.$api.get(i,null,function(t){e.numberOfPages=t.pageTotal;var s=t.rows;e.items=[];for(var n=0;n<s.length;n++){var i='<a target="_blank" href="'+s[n].url+'">'+s[n].subject+"</a>";e.items.push({content_title:i})}}),$("#content_id").text(e.company+": ")})}},watch:{$route:function(t,e){var s=this;this.stockId=this.$route.params.stockId,0!=this.stockId?this.$api.get("/api/stock/getStockData/"+this.stockId,null,function(t){s.company=t.company,console.log("company---\x3e"+s.company);var e=void 0==s.$route.params.pageNum?1:s.$route.params.pageNum,n="/api/stock/getNewsExcludeBystockId/"+s.stockId+"/"+e+"/"+s.pageSize;s.$api.get(n,null,function(t){s.items=[],s.numberOfPages=t.pageTotal;for(var e=t.rows,n=0;n<e.length;n++){var i='<a target="_blank" href="'+e[n].url+'">'+e[n].subject+"</a>";s.items.push({content_title:i})}}),$("#content_id").text(s.company+": ")}):this.cleanNews()}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"nav nav-pills nav-justified"},[s("a",{staticClass:"nav-link active",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNews(e)}}},[t._v("所有新聞")]),t._v(" "),s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNews(e)}}},[t._v("焦點新聞")])]),t._v(" "),s("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields}}),t._v(" "),s("b-pagination-nav",{attrs:{align:"center","number-of-pages":t.numberOfPages,"base-url":"#","link-gen":t.linkGen},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},staticRenderFns:[]},T=s("Aizv")(C,x,!1,null,null,null).exports,j={data:function(){return{dismissSecs:10,dismissCountDown:0,message:"",variant:""}},created:function(){var t=this;p.$on("alerts",function(e){t.message=e,t.variant="danger",t.showAlert()}),p.$on("success",function(e){t.message=e,t.variant="success",t.showAlert()})},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-alert",{staticClass:"position-fixed w-100",staticStyle:{"z-index":"9999"},attrs:{show:t.dismissCountDown,dismissible:"",variant:t.variant,title:"Error"},on:{dismissed:function(e){t.dismissCountdown=0},"dismiss-count-down":t.countDownChanged}},[t._v("\n    "+t._s(t.message)+"\n    \n  ")])],1)},staticRenderFns:[]},A=s("Aizv")(j,E,!1,null,null,null).exports,O={components:{MainLayout:d,StockMyData:_,StockMySelectedType:M,StockDetail:I,StockNews:T,Alert:A}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("b-container",{staticClass:"bv-example-row border",attrs:{fluid:""}},[n("b-row",[n("b-col",{staticClass:"border-right border-primary",attrs:{cols:"2",sm:"2"}},[n("stock-my-data")],1),t._v(" "),n("b-col",{attrs:{cols:"10",sm:"10"}},[n("b-row",[n("b-col",{attrs:{cols:"12",sm:"12"}},[n("stock-my-selected-type"),t._v(" "),n("img",{staticClass:"w-100",attrs:{src:s("FOyD")}})],1)],1),t._v(" "),n("b-row",[n("b-col",{attrs:{cols:"9",sm:"9"}},[n("b-row",[n("b-col",{attrs:{cols:"12",sm:"12"}},[n("b-row",[n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})]),t._v(" "),n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})]),t._v(" "),n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})])],1),t._v(" "),n("b-row",[n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})]),t._v(" "),n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})]),t._v(" "),n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})])],1),t._v(" "),n("b-row",[n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})]),t._v(" "),n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})]),t._v(" "),n("b-col",[n("img",{staticClass:"w-100",attrs:{src:s("pdky")}})])],1)],1)],1),t._v(" "),n("b-row",{staticClass:"mt-3"},[n("b-col",{attrs:{cols:"12",sm:"12"}},[n("stock-news")],1)],1)],1),t._v(" "),n("b-col",{attrs:{cols:"3",sm:"3"}},[n("img",{staticClass:"w-100",attrs:{src:s("vhDn")}}),t._v(" "),n("img",{staticClass:"w-100",attrs:{src:s("Pbsv")}})])],1)],1)],1)],1)],1)},staticRenderFns:[]},z=s("Aizv")(O,P,!1,null,null,null).exports,R=[],B={components:{MainLayout:d},data:function(){return{items:[],numberOfPages:0,currentPage:this.$route.params.pageNum,pageSize:PAGE_SIZE}},created:function(){var t=this;this.getData(),Bus.$on("initCurrentPage",function(e){t.currentPage=e})},methods:{linkGen:function(t){return{path:"/importantNews/"+t}},showExcludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(1)},showIncludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(0)},getData:function(t){var e=this;R=[];var s=(0==t?"/api/stock/getImportantNewsInclude/":"/api/stock/getImportantNewsExclude/")+this.$route.params.pageNum+"/"+this.pageSize;this.$api.get(s,null,function(t){e.numberOfPages=t.pageTotal,$(t.rows).each(function(){var t='<a target="_blank" href="'+this.url+'">'+this.froms+"</a>";R.push({"市場重大新聞":t})}),e.items=R})}},watch:{$route:function(t,e){var s=this;R=[];var n="/api/stock/getImportantNews/"+this.$route.params.pageNum+"/"+this.pageSize;this.$api.get(n,null,function(t){s.numberOfPages=t.pageTotal,$(t.rows).each(function(){var t='<a target="_blank" href="'+this.url+'">'+this.froms+"</a>";R.push({"市場重大新聞":t})}),s.items=R})}}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[[s("nav",{staticClass:"mt-3 ml-3 nav nav-pills nav-justified"},[s("a",{staticClass:"nav-link active",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNews(e)}}},[t._v("所有新聞")]),t._v(" "),s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNews(e)}}},[t._v("焦點新聞")])]),t._v(" "),s("b-table",{attrs:{striped:"",hover:"",items:t.items}}),t._v(" "),s("b-pagination-nav",{attrs:{align:"center","number-of-pages":t.numberOfPages,"base-url":"#","link-gen":t.linkGen},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})]],2)},staticRenderFns:[]},Y=s("Aizv")(B,F,!1,null,null,null).exports,H={components:{MainLayout:d,Alert:A},data:function(){return{file:null,items:[]}},created:function(){this.getData()},methods:{update:function(t){var e=this,s=t.target.files[0];p.$emit("success","正在導入數據, 請稍候......"),this.$api.fileUpload(s,"/api/stock/uploadStockDailyTransactions",function(t){p.$emit("success","導入成功!"),e.getData()}),this.$refs.fileinput.reset()},getData:function(){var t=this;this.$api.get("/api/stock/getStockDailyTransactions",null,function(e){for(var s=0;s<e.length;s++){var n=e[s];t.items.push({"成交日期":n.txDate,"股票名稱":"["+n.no+"] "+n.company,"交易種類":n.txKind,"成交數量":n.quantity,"成交價格":n.txPrice,"成交金額":n.txAmount,"手續費":n.fee,"交易稅":n.txTallage,"證所稅":n.zsTallage,"融資金額":n.financingAmount,"利息":n.interest,"借券費":n.debFee,"客戶淨收付":n.customerCharge,"損益":n.profit,"報酬率(%)":n.payRate,"持有成本":n.holdingCost})}})}},watch:{$route:function(t,e){}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[[s("div",[s("Alert"),t._v(" "),s("b-container",[s("b-row",[s("b-col",{attrs:{id:"row_title"}},[t._v("請選擇需要導入的每天買入賣出股文件:")])],1),t._v(" "),s("b-row",[s("b-col",[s("b-form-file",{ref:"fileinput",attrs:{id:"file1",placeholder:"Please choose a file."},on:{change:t.update},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1),t._v(" "),s("b-row",[s("b-col",[s("p",{staticClass:"p-3 mb-2 bg-info text-white"},[t._v("每天買入賣出股列表：")]),t._v(" "),s("b-table",{staticStyle:{width:"90%"},attrs:{hover:"",items:t.items}})],1)],1)],1)],1)]],2)},staticRenderFns:[]};var Q=s("Aizv")(H,G,!1,function(t){s("Yk4I")},"data-v-53706577",null).exports,K=s("jio0"),J=s.n(K),Z={components:{MainLayout:d,Autocomplete:g,Alert:A},data:function(){return{name:"",currSelectedType:"",initNumber:50,options:[{value:"",text:"Please select..."}],list:[],items:[]}},created:function(){this.getData()},mounted:function(){J.a.create(listWithHandle,{handle:".oi-move",animation:150})},methods:{clearName:function(){this.name="",this.$refs.focusThis.focus()},handleOk:function(t){t.preventDefault(),this.name?this.handleSubmit():alert("请输入自選股名称!")},handleSubmit:function(){this.saveData(this.name),this.clearName(),this.$refs.modal.hide()},save2StockMyData:function(){if(""==this.currSelectedType)alert("請先選擇對應的自選股名稱!");else{var t=[];if($(".form-control input[type='hidden']").each(function(e,s){var n=$(s).val();""!=n&&t.push(n)}),t.length>0){var e={selectedType:this.currSelectedType,stockIds:t};this.$api.post("/api/stock/changeStockMySelected",e,function(t){p.$emit("success","保存成功!")})}}},saveData:function(t){var e=this,s="/api/stock/saveStockMySelectedType?name="+t;this.$api.post(s,null,function(t){e.getData()})},isSelected:function(t){return this.currSelectedType==t?"warning":"success"},getUrl:function(t){return"/api/stock/search4StockMyData?query="+t},selectedProcess:function(t,e){$(".form-control input[type='hidden']").each(function(s,n){var i=$(n).val();""!=i&&i==t.value&&(e.clear(),p.$emit("alerts",t.display+"已經存在!"))})},formattedDisplay:function(t){return t.no+" "+t.company},removeStockMySelected:function(t,e){this.$route.params.stockId;var s=this.$api,n=this;this.$confirm("是否確定從"+e+"中移除?").then(function(){var e="/api/stock/removeStockMySelected?selectedType="+t;s.post(e,null,function(t){n.getData(),n.currSelectedType="",n.list=[]})}).catch(function(t){console.log("Exception---\x3e"+t)})},changedValue:function(t){this.currSelectedType=t,$(".empty-form-control input").val(""),this.getMyStockMySelected(t)},getMyStockMySelected:function(t){var e=this;this.list=[],""!=t&&this.$api.get("/api/stock/getStockMyDatasByType/"+t,null,function(t){e.list=t})},getData:function(){var t=this;this.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){t.items=e})}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("div",[s("Alert"),t._v(" "),t._l(t.items,function(e){return s("span",[s("b-button",{attrs:{variant:t.isSelected(e.type),id:e.type},on:{click:function(s){t.changedValue(e.type)}}},[t._v("\n          "+t._s(e.name)+"\n      "),s("span",{attrs:{"aria-hidden":"true"},on:{click:function(s){s.preventDefault(),t.removeStockMySelected(e.type,e.name)}}},[t._v("×")])])],1)}),t._v(" "),s("div",{staticClass:"float-right w-25"},[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",modifiers:{modalPrevent:!0}}],attrs:{variant:"info"}},[t._v("添加")]),t._v(" "),""!=t.currSelectedType?s("b-button",{attrs:{variant:"info"},on:{click:t.save2StockMyData}},[t._v("保存")]):t._e(),t._v(" "),s("b-modal",{ref:"modal",attrs:{id:"modalPrevent",title:"请输入自選股名称"},on:{ok:t.handleOk,shown:t.clearName}},[s("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[s("b-form-input",{ref:"focusThis",attrs:{type:"text",placeholder:"输入自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],1),t._v(" "),s("div",{attrs:{id:"listWithHandle"}},[t._l(t.list,function(e,n){return s("div",{staticClass:"list-group-item float-left wd-fixed py-1 my-1"},[s("span",{staticClass:"badge"},[t._v(t._s(n+1))]),t._v(" "),s("span",{staticClass:"oi oi-move",attrs:{"aria-hidden":"true"}}),t._v(" "),s("autocomplete",{ref:"autocomplete"+n,refInFor:!0,attrs:{source:t.getUrl,"input-class":"form-control","results-property":"data","results-display":t.formattedDisplay,initialValue:e.stockId,initialDisplay:e.no+" "+e.company},on:{selected:t.selectedProcess}})],1)}),t._v(" "),t._l(t.initNumber-t.list.length,function(e){return""!=t.currSelectedType?s("div",{staticClass:"list-group-item float-left wd-fixed py-1 my-1"},[s("span",{staticClass:"badge"},[t._v(t._s(e+t.list.length))]),t._v(" "),s("span",{staticClass:"oi oi-move",attrs:{"aria-hidden":"true"}}),t._v(" "),s("autocomplete",{ref:"autocomplete"+e,refInFor:!0,attrs:{source:t.getUrl,"input-class":"form-control empty-form-control","results-property":"data","results-display":t.formattedDisplay},on:{selected:t.selectedProcess}})],1):t._e()}),t._v(" "),s("div",{staticClass:"clearfix"})],2)],2)])},staticRenderFns:[]};var W=s("Aizv")(Z,U,!1,function(t){s("G+ai")},"data-v-028c13c8",null).exports,V={components:{MainLayout:d,Alert:A},data:function(){return{excludesItems:[],includesItems:[]}},created:function(){this.getExcludesItems(),this.getIncludesItems()},mounted:function(){},methods:{saveExcludeItem:function(t){var e=this,s=[];if($(".exclude-item input").each(function(t,e){var n=$(e).val();-1==s.indexOf(n)&&s.push(n)}),s.length>0){var n="/api/stock/saveStockNewsKeyByExclude?keys[]="+s.join();this.$api.post(n,null,function(t){e.getExcludesItems()})}else alert("記錄不能為空!")},saveIncludeItem:function(t){var e=this,s=[];if($(".include-item input").each(function(t,e){var n=$(e).val();-1==s.indexOf(n)&&s.push(n)}),s.length>0){var n="/api/stock/saveStockNewsKeyByInclude?keys[]="+s.join();this.$api.post(n,null,function(t){e.getIncludesItems()})}else alert("記錄不能為空!")},addExcludeItem:function(t){$("#add-exclude-item").before('\n      <div class="exclude-item w-5 float-left p-1">\n          <input type="text" class="form-control" />\n      </div>        \n      ')},addIncludeItem:function(t){$("#add-include-item").before('\n      <div class="include-item w-5 float-left p-1">\n          <input type="text" class="form-control" />\n      </div>        \n      ')},getExcludesItems:function(){var t=this;this.excludesItems=[];this.$api.get("/api/stock/getStockNewsKeyByExclude",null,function(e){$(".exclude-item").remove(),t.excludesItems=e})},getIncludesItems:function(){var t=this;this.includesItems=[];this.$api.get("/api/stock/getStockNewsKeyByInclude",null,function(e){$(".include-item").remove(),t.includesItems=e})}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("div",{staticClass:"border border-primary m-2 float-left",staticStyle:{width:"45%"}},[s("h5",{staticClass:"text-primary p-1"},[t._v("去重關鍵字：\n    "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.saveExcludeItem(e)}}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.addExcludeItem(e)}}},[t._v("添加")])]),t._v(" "),t._l(t.excludesItems,function(t){return s("div",{staticClass:"exclude-item w-5 float-left p-1"},[s("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.key}})])}),t._v(" "),s("div",{staticClass:"w-3 float-left p-1",attrs:{id:"add-exclude-item"}}),t._v(" "),s("div",{staticClass:"clearfix"})],2),t._v(" "),s("div",{staticClass:"border border-success m-2 float-left",staticStyle:{width:"45%"}},[s("h5",{staticClass:"text-success p-1"},[t._v("焦點關鍵字：\n    "),s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.saveIncludeItem(e)}}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.addIncludeItem(e)}}},[t._v("添加")])]),t._v(" "),t._l(t.includesItems,function(t){return s("div",{staticClass:"include-item w-5 float-left p-1"},[s("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.key}})])}),t._v(" "),s("div",{staticClass:"w-3 float-left p-1",attrs:{id:"add-include-item"}}),t._v(" "),s("div",{staticClass:"clearfix"})],2),t._v(" "),s("div",{staticClass:"clearfix"})])},staticRenderFns:[]};var X=s("Aizv")(V,q,!1,function(t){s("lRmg")},"data-v-5758a82f",null).exports;n.default.use(o.a);var tt=new o.a({mode:"hash",routes:[{path:"/",component:z},{path:"/content/:stockId",component:z,children:[{path:":pageNum",component:z}]},{path:"/importantNews/:pageNum",component:Y},{path:"/stockDailyTransactions",component:Q},{path:"/editMySelectedType",component:W},{path:"/newsSettings",component:X}]}),et=s("N7z7"),st=(s("h8gv"),s("pltS"),s("HD/Y"),s("P1wC")),nt=s.n(st),it="/",at=s("gCy3");function ot(t,e,s,n,i){at({method:t,url:e,data:"POST"===t||"PUT"===t?s:null,params:"GET"===t||"DELETE"===t?s:null,baseURL:it,withCredentials:!1}).then(function(t){console.log("res.data----\x3e"+t.data),n&&n(t.data),p.$emit("loading",!1)}).catch(function(t){if(p.$emit("loading",!1),t){console.log("err---\x3e"+t);var e=t.response.statusText+" : "+t.response.data;p.$emit("alerts",e),i&&i(t)}})}var ct={get:function(t,e,s,n){return ot("GET",t,e,s,n)},post:function(t,e,s,n){return ot("POST",t,e,s,n)},put:function(t,e,s,n){return ot("PUT",t,e,s,n)},delete:function(t,e,s,n){return ot("DELETE",t,e,s,n)},fileUpload:function(t,e,s,n){return function(t,e,s,n){var i=new FormData;i.append("file",t,t.name),i.append("chunk","0"),at.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),s&&s(t.data)}).catch(function(t){console.log("err---\x3e"+t);var e=t.response.statusText+" : "+t.response.data;p.$emit("alerts",e),n&&n(t)})}(t,e,s,n)}},rt={goodTime:function(t){var e=(new Date).getTime()-new Date(t).getTime(),s=e/31104e6,n=e/2592e6,i=e/6048e5,a=e/864e5,o=e/36e5,c=e/6e4;return s>=1?"发表于 "+~~s+" 年前":n>=1?"发表于 "+~~n+" 个月前":i>=1?"发表于 "+~~i+" 周前":a>=1?"发表于 "+~~a+" 天前":o>=1?"发表于 "+~~o+" 个小时前":c>=1?"发表于 "+~~c+" 分钟前":"刚刚"}};s("8e4C"),s("gCy3");n.default.use(et.a),n.default.use(nt.a),n.default.prototype.$api=ct,n.default.prototype.$utils=rt,n.default.config.productionTip=!1,new n.default({el:"#app",router:tt,components:{App:a},template:"<App/>"})},Pbsv:function(t,e,s){t.exports=s.p+"static/img/stock04.519da72.png"},UnKv:function(t,e){},Yk4I:function(t,e){},h8gv:function(t,e){},hKOL:function(t,e){},hzTk:function(t,e){},lRmg:function(t,e){},nuJt:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iLTE4IDE3MiA0NTAgNDUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC0xOCAxNzIgNDUwIDQ1MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgZmlsbD0iIzk5OSI+DQoJPHBhdGggZD0iTTIyNi43LDI4OWMwLDEwLjktOC44LDE5LjctMTkuNywxOS43bDAsMGMtMTAuOSwwLTE5LjctOC44LTE5LjctMTkuN3YtOTYuNmMwLTEwLjksOC44LTE5LjcsMTkuNy0xOS43bDAsMA0KCQljMTAuOCwwLDE5LjcsOC44LDE5LjcsMTkuN1YyODl6Ii8+DQoJPHBhdGggZD0iTTIyNi43LDYwMS42YzAsMTAuOS04LjgsMTkuNy0xOS43LDE5LjdsMCwwYy0xMC45LDAtMTkuNy04LjgtMTkuNy0xOS43VjUwNWMwLTEwLjksOC44LTE5LjcsMTkuNy0xOS43bDAsMA0KCQljMTAuOCwwLDE5LjcsOC44LDE5LjcsMTkuN1Y2MDEuNkwyMjYuNyw2MDEuNnoiLz4NCgk8cGF0aCBkPSJNOTksMzc3LjNjMTAuOSwwLDE5LjcsOC44LDE5LjcsMTkuNmwwLDBjMCwxMC45LTguOCwxOS43LTE5LjcsMTkuN0gyLjRjLTEwLjksMC0xOS43LTguOC0xOS43LTE5LjdsMCwwDQoJCWMwLTEwLjksOC44LTE5LjYsMTkuNy0xOS42SDk5eiIvPg0KCTxwYXRoIGQ9Ik00MTEuNiwzNzcuM2MxMC45LDAsMTkuNyw4LjgsMTkuNywxOS42bDAsMGMwLDEwLjktOC44LDE5LjctMTkuNywxOS43SDMxNWMtMTAuOSwwLTE5LjctOC44LTE5LjctMTkuN2wwLDANCgkJYzAtMTAuOSw4LjgtMTkuNiwxOS43LTE5LjZINDExLjZ6Ii8+DQoJPHBhdGggZD0iTTE0NC41LDMwNi43YzcuNyw3LjcsNy43LDIwLjEsMCwyNy44bDAsMGMtNy43LDcuNy0yMC4yLDcuNy0yNy45LDBsLTY4LjMtNjguM2MtNy43LTcuNy03LjctMjAuMSwwLTI3LjlsMCwwDQoJCWM3LjctNy43LDIwLjEtNy43LDI3LjgsMEwxNDQuNSwzMDYuN0wxNDQuNSwzMDYuN3oiLz4NCgk8cGF0aCBkPSJNMzY1LjYsNTI3LjhjNy43LDcuNyw3LjcsMjAuMiwwLDI3LjlsMCwwYy03LjcsNy43LTIwLjEsNy43LTI3LjgtMC4xbC02OC4zLTY4LjNjLTcuNy03LjctNy43LTIwLjIsMC0yNy45bDAsMA0KCQljNy43LTcuNywyMC4yLTcuNywyNy44LDBMMzY1LjYsNTI3LjhMMzY1LjYsNTI3Ljh6Ii8+DQoJPHBhdGggZD0iTTExNi43LDQ1OS41YzcuNy03LjcsMjAuMi03LjcsMjcuOSwwbDAsMGM3LjcsNy43LDcuNywyMC4yLDAsMjcuOWwtNjguMyw2OC4zYy03LjcsNy43LTIwLjEsNy43LTI3LjgtMC4xbDAsMA0KCQljLTcuNy03LjctNy43LTIwLjEsMC0yNy44TDExNi43LDQ1OS41eiIvPg0KCTxwYXRoIGQ9Ik0zMzcuOCwyMzguNGM3LjctNy43LDIwLjEtNy43LDI3LjgsMGwwLDBjNy43LDcuNyw3LjcsMjAuMiwwLDI3LjlsLTY4LjMsNjguM2MtNy43LDcuNy0yMC4yLDcuNy0yNy44LDBsMCwwDQoJCWMtNy43LTcuNy03LjctMjAuMiwwLTI3LjhMMzM3LjgsMjM4LjRMMzM3LjgsMjM4LjR6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="},pdky:function(t,e,s){t.exports=s.p+"static/img/stock01.1bee924.png"},pltS:function(t,e){},vhDn:function(t,e,s){t.exports=s.p+"static/img/stock02.64af7c8.png"}},["NHnr"]);