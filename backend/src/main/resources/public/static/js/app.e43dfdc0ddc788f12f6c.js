webpackJsonp([1],{"+KGt":function(t,e){},"/XY2":function(t,e){},"8e4C":function(t,e){window.PAGE_SIZE=20},FOyD:function(t,e,n){t.exports=n.p+"static/img/stock03.2874673.png"},"HD/Y":function(t,e){},K6N9:function(t,e){},LdQD:function(t,e){},MtsD:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("O534"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("Aizv")({name:"app"},s,!1,function(t){n("UnKv")},null,null).exports,o=n("1eSk"),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{type:"dark",variant:"primary",toggleable:""}},[n("b-navbar-toggle",{attrs:{target:"nav_dropdown_collapse"}}),t._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_dropdown_collapse"}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"#"}},[t._v("Home")]),t._v(" "),n("b-nav-item",{attrs:{href:"#"}},[t._v("Link")]),t._v(" "),n("b-nav-item-dropdown",{attrs:{text:"台股",right:""}},[n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/")}}},[t._v("\n          自選股\n        ")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/importantNews/1")}}},[t._v("\n          市場重大新聞\n        ")])],1),t._v(" "),n("b-nav-item-dropdown",{attrs:{text:"個性化設置",right:""}},[n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/newsSettings")}}},[t._v("\n          新聞設置\n        ")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/editMySelectedType")}}},[t._v("\n          自選股\n        ")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.go("/stockDailyTransactions")}}},[t._v("\n          每天買入賣出股\n        ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"copy"},[this._v("\n  Copy © wenchun\n")])},staticRenderFns:[]},l={components:{Header:n("Aizv")({data:function(){return{}},created:function(){},methods:{go:function(t){this.$router.push(t)}}},c,!1,function(t){n("K6N9")},"data-v-214c5b93",null).exports,Footer:n("Aizv")(null,r,!1,null,null,null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Header"),this._v(" "),this._t("default"),this._v(" "),e("Footer")],2)},staticRenderFns:[]},d=n("Aizv")(l,u,!1,null,null,null).exports,p=new a.default,f=n("ljbA"),m=n.n(f),v={components:{Autocomplete:m.a},data:function(){return{list:[],firstStockId:"",myStockSelectedName:"庫存股",selected:null,options:[],selectedTypes:[],mySelectedTypes:[]}},created:function(){var t=this;this.getStockMySelectedTypes(),this.getData(),p.$on("getMyStockSelected",function(e,n){void 0!=e&&(t.myStockSelectedName=n,t.$api.get("/api/stock/getStockMyDatasByType/"+e,null,function(e){t.list=e,void 0!=e&&e.length>0?(t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")):(t.push("/content/0/1"),p.$emit("emptyNews"))}))}),p.$on("getAllStockMyStore",function(){t.myStockSelectedName="庫存股",t.$api.get("/api/stock/getStockMyDatasByStore",null,function(e){t.list=e,void 0!=e&&e.length>0?(t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")):(t.push("/content/0/1"),p.$emit("emptyNews"))})})},methods:{getUrl:function(t){return"/api/stock/search4StockData?query="+t},selectedProcess:function(t,e){},formattedDisplay:function(t){return t.no+" "+t.company},push:function(t){this.$router.push(t),p.$emit("initCurrentPage",1)},isSelected:function(t){return t==(void 0==this.$route.params.stockId?this.firstStockId:this.$route.params.stockId)?"selected":""},go:function(t){this.push("/content/"+t+"/1")},toFront:function(){this.$router;var t=$(".selected").get(0),e=$(t).closest("span").prev().find("a").attr("href");void 0!=e&&this.push(e)},toBack:function(){this.$router;var t=$(".selected").get(0),e=$(t).closest("span").next().find("a").attr("href");void 0!=e&&this.push(e)},openModal:function(){this.getStockMySelectedTypes(),this.clearName()},clearName:function(){this.selected=""},handleOk:function(t){t.preventDefault(),this.selected?this.handleSubmit():alert("請選擇自選股!")},handleSubmit:function(){var t=void 0==this.$route.params.stockId?this.firstStockId:this.$route.params.stockId;this.changeStockMySelected(t,this.selected),this.clearName(),this.$refs.modal.hide()},getData:function(){var t=this;this.$api.get("/api/stock/getStockMyDatas",null,function(e){t.list=e,t.firstStockId=e[0].stockId,t.push("/content/"+t.firstStockId+"/1")})},getStockMySelectedTypes:function(){var t=this;this.options=[];var e=this.$route.params.stockId;void 0!=e&&""!=e&&this.$api.get("/api/stock/getMySelectedTypesByStockId/"+e,null,function(e){var n=[];if(void 0!=e&&e.length>0)for(var a=0;a<e.length;a++){var s=e[a].type;n.push(s)}t.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){for(var a=0;a<e.length;a++){var s=-1!=n.indexOf(e[a].type);s||t.options.push({value:e[a].type,text:e[a].name,disabled:s})}})})},changeStockMySelected:function(t,e){var n=this,a=[];a.push(t);var s={selectedType:e,stockIds:a};this.$api.post("/api/stock/changeStockMySelected",s,function(e){n.push("/content/"+t+"/1")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"m-2"},[n("autocomplete",{ref:"autocomplete",attrs:{source:t.getUrl,"input-class":"form-control empty-form-control","results-property":"data","results-display":t.formattedDisplay},on:{selected:t.selectedProcess}})],1),t._v(" "),n("div",{staticClass:"pt-2 pb-2"},[n("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:t.toFront}},[t._v("<-")]),t._v(" "),n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",modifiers:{modalPrevent:!0}}],attrs:{size:"sm",variant:"primary"}},[t._v("+")]),t._v(" "),n("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:t.toBack}},[t._v("->")]),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modalPrevent",title:"請選擇自選股"},on:{ok:t.handleOk,shown:t.openModal}},[n("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-select",{staticClass:"mb-3",attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)])],1),t._v(" "),n("div",{staticClass:"selected_name"},[n("h5",[t._v(t._s(t.myStockSelectedName))]),t._v(" "),t._l(t.list,function(e){return n("span",{staticClass:"d-none d-lg-block"},[n("a",{class:t.isSelected(e.stockId),attrs:{href:"/content/"+e.stockId+"/1"},on:{click:function(n){n.preventDefault(),t.go(e.stockId)}}},[t._v("\n      "+t._s(e.company)+"\n    ")]),n("br")])})],2)])},staticRenderFns:[]};var g=n("Aizv")(v,h,!1,function(t){n("/XY2")},"data-v-381f1204",null).exports,y=n("WxFH"),k=n.n(y),b={data:function(){return k()({name:"",items:[],currSelectedType:""},"name","")},created:function(){this.getData()},methods:{getAllStockMyStore:function(){this.selectedTypes=[],this.currSelectedType="0",p.$emit("getAllStockMyStore")},getMyStockSelected:function(t,e){this.currSelectedType=t,p.$emit("getMyStockSelected",t,e)},isSelected:function(t){return this.currSelectedType==t?"warning":"success"},clearName:function(){this.name="",this.$refs.focusThis.focus()},handleOk:function(t){t.preventDefault(),this.name?this.handleSubmit():alert("请输入自選股名称!")},handleSubmit:function(){this.saveData(this.name),this.clearName(),this.$refs.modal.hide()},getData:function(){var t=this;this.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){t.items=e})},saveData:function(t){var e=this,n="/api/stock/saveStockMySelectedType?name="+t;this.$api.post(n,null,function(t){e.getData()})}},watch:{$route:function(t,e){}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[n("b-button",{attrs:{variant:""==t.currSelectedType||"0"==t.currSelectedType?"warning":"success"},on:{click:t.getAllStockMyStore}},[t._v("\n    庫存股\n  ")])],1),t._v(" "),t._l(t.items,function(e){return n("span",[n("b-button",{attrs:{variant:t.isSelected(e.type),id:e.type},on:{click:function(n){t.getMyStockSelected(e.type,e.name)}}},[t._v("\n      "+t._s(e.name)+"\n      ")])],1)}),t._v(" "),n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent2",modifiers:{modalPrevent2:!0}}],attrs:{variant:"success"}},[t._v("+")]),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modalPrevent2",title:"请输入自選股名称"},on:{ok:t.handleOk,shown:t.clearName}},[n("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-input",{ref:"focusThis",attrs:{type:"text",placeholder:"输入自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],2)},staticRenderFns:[]};var S=n("Aizv")(b,_,!1,function(t){n("hzTk")},"data-v-ca6c7218",null).exports,w={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},x=n("Aizv")({data:function(){return{}},created:function(){},mounted:function(){},methods:{},watch:{}},w,!1,null,null,null).exports,I={data:function(){return{company:"",stockId:"",numberOfPages:0,currentPage:this.$route.params.pageNum,pageSize:15,fields:{content_title:{label:'<span id="content_id">: </span>個股新聞與研究報告',sortable:!0}},items:[]}},created:function(){var t=this;this.getData(),p.$on("emptyNews",function(){t.cleanNews()}),p.$on("initCurrentPage",function(e){t.currentPage=e})},mounted:function(){},methods:{linkGen:function(t){return{path:"/content/"+this.stockId+"/"+t}},cleanNews:function(){this.items=[],$("#content_id").text(""),this.numberOfPages=0,this.currentPage=1},showExcludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(1)},showIncludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(0)},getData:function(t){var e=this;this.stockId=this.$route.params.stockId,void 0!=this.stockId&&""!=this.stockId&&0!=this.stockId&&this.$api.get("/api/stock/getStockData/"+this.stockId,null,function(n){e.company=n.company;var a=void 0==e.$route.params.pageNum?1:e.$route.params.pageNum,s=(0==t?"/api/stock/getNewsIncludeBystockId/":"/api/stock/getNewsExcludeBystockId/")+e.stockId+"/"+a+"/"+e.pageSize;e.$api.get(s,null,function(t){e.numberOfPages=t.pageTotal;var n=t.rows;e.items=[];for(var a=0;a<n.length;a++){var s='<a target="_blank" href="'+n[a].url+'">'+n[a].subject+"</a>";e.items.push({content_title:s})}}),$("#content_id").text(e.company+": ")})}},watch:{$route:function(t,e){var n=this;this.stockId=this.$route.params.stockId,0!=this.stockId?this.$api.get("/api/stock/getStockData/"+this.stockId,null,function(t){n.company=t.company,console.log("company---\x3e"+n.company);var e=void 0==n.$route.params.pageNum?1:n.$route.params.pageNum,a="/api/stock/getNewsExcludeBystockId/"+n.stockId+"/"+e+"/"+n.pageSize;n.$api.get(a,null,function(t){n.items=[],n.numberOfPages=t.pageTotal;for(var e=t.rows,a=0;a<e.length;a++){var s='<a target="_blank" href="'+e[a].url+'">'+e[a].subject+"</a>";n.items.push({content_title:s})}}),$("#content_id").text(n.company+": ")}):this.cleanNews()}}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"nav nav-pills nav-justified"},[n("a",{staticClass:"nav-link active",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNews(e)}}},[t._v("所有新聞")]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNews(e)}}},[t._v("焦點新聞")])]),t._v(" "),n("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields}}),t._v(" "),n("b-pagination-nav",{attrs:{align:"center","number-of-pages":t.numberOfPages,"base-url":"#","link-gen":t.linkGen},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},staticRenderFns:[]},C=n("Aizv")(I,D,!1,null,null,null).exports,T={data:function(){return{dismissSecs:10,dismissCountDown:0,message:"",variant:""}},created:function(){var t=this;p.$on("alerts",function(e){t.message=e,t.variant="danger",t.showAlert()}),p.$on("success",function(e){t.message=e,t.variant="success",t.showAlert()})},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-alert",{staticClass:"position-fixed w-100",staticStyle:{"z-index":"9999"},attrs:{show:t.dismissCountDown,dismissible:"",variant:t.variant,title:"Error"},on:{dismissed:function(e){t.dismissCountdown=0},"dismiss-count-down":t.countDownChanged}},[t._v("\n    "+t._s(t.message)+"\n    \n  ")])],1)},staticRenderFns:[]},P=n("Aizv")(T,N,!1,null,null,null).exports,M={components:{MainLayout:d,StockMyData:g,StockMySelectedType:S,StockDetail:x,StockNews:C,Alert:P}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main-layout",[a("b-container",{staticClass:"bv-example-row border",attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"border-right border-primary",attrs:{lg:"2",md:"3",sm:"3"}},[a("stock-my-data")],1),t._v(" "),a("b-col",{attrs:{lg:"10",md:"9",sm:"9"}},[a("b-row",[a("b-col",{attrs:{cols:"12",sm:"12"}},[a("stock-my-selected-type"),t._v(" "),a("img",{staticClass:"w-100",attrs:{src:n("FOyD")}})],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{cols:"9",sm:"9"}},[a("b-row",[a("b-col",{attrs:{cols:"12",sm:"12"}},[a("b-row",[a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})]),t._v(" "),a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})]),t._v(" "),a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})])],1),t._v(" "),a("b-row",[a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})]),t._v(" "),a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})]),t._v(" "),a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})])],1),t._v(" "),a("b-row",[a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})]),t._v(" "),a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})]),t._v(" "),a("b-col",[a("img",{staticClass:"w-100",attrs:{src:n("pdky")}})])],1)],1)],1),t._v(" "),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{cols:"12",sm:"12"}},[a("stock-news")],1)],1)],1),t._v(" "),a("b-col",{attrs:{cols:"3",sm:"3"}},[a("img",{staticClass:"w-100",attrs:{src:n("vhDn")}}),t._v(" "),a("img",{staticClass:"w-100",attrs:{src:n("Pbsv")}})])],1)],1)],1)],1)],1)},staticRenderFns:[]},A=n("Aizv")(M,E,!1,null,null,null).exports,z=[],F={components:{MainLayout:d},data:function(){return{items:[],numberOfPages:0,currentPage:this.$route.params.pageNum,pageSize:PAGE_SIZE}},created:function(){var t=this;this.getData(),Bus.$on("initCurrentPage",function(e){t.currentPage=e})},methods:{linkGen:function(t){return{path:"/importantNews/"+t}},showExcludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(1)},showIncludeNews:function(t){$(".active").removeClass("active"),$(t.target).addClass("active"),this.getData(0)},getData:function(t){var e=this;z=[];var n=(0==t?"/api/stock/getImportantNewsInclude/":"/api/stock/getImportantNewsExclude/")+this.$route.params.pageNum+"/"+this.pageSize;this.$api.get(n,null,function(t){e.numberOfPages=t.pageTotal,$(t.rows).each(function(){var t='<a target="_blank" href="'+this.url+'">'+this.froms+"</a>";z.push({"市場重大新聞":t})}),e.items=z})}},watch:{$route:function(t,e){var n=this;z=[];var a="/api/stock/getImportantNews/"+this.$route.params.pageNum+"/"+this.pageSize;this.$api.get(a,null,function(t){n.numberOfPages=t.pageTotal,$(t.rows).each(function(){var t='<a target="_blank" href="'+this.url+'">'+this.froms+"</a>";z.push({"市場重大新聞":t})}),n.items=z})}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[[n("nav",{staticClass:"mt-3 ml-3 nav nav-pills nav-justified"},[n("a",{staticClass:"nav-link active",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showExcludeNews(e)}}},[t._v("所有新聞")]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showIncludeNews(e)}}},[t._v("焦點新聞")])]),t._v(" "),n("b-table",{attrs:{striped:"",hover:"",items:t.items}}),t._v(" "),n("b-pagination-nav",{attrs:{align:"center","number-of-pages":t.numberOfPages,"base-url":"#","link-gen":t.linkGen},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})]],2)},staticRenderFns:[]},R=n("Aizv")(F,O,!1,null,null,null).exports,B={components:{MainLayout:d,Alert:P},data:function(){return{file:null,items:[]}},created:function(){this.getData()},methods:{update:function(t){var e=this,n=t.target.files[0];p.$emit("success","正在導入數據, 請稍候......"),this.$api.fileUpload(n,"/api/stock/uploadStockDailyTransactions",function(t){p.$emit("success","導入成功!"),e.getData()}),this.$refs.fileinput.reset()},getData:function(){var t=this;this.$api.get("/api/stock/getStockDailyTransactions",null,function(e){for(var n=0;n<e.length;n++){var a=e[n];t.items.push({"成交日期":a.txDate,"股票名稱":"["+a.no+"] "+a.company,"交易種類":a.txKind,"成交數量":a.quantity,"成交價格":a.txPrice,"成交金額":a.txAmount,"手續費":a.fee,"交易稅":a.txTallage,"證所稅":a.zsTallage,"融資金額":a.financingAmount,"利息":a.interest,"借券費":a.debFee,"客戶淨收付":a.customerCharge,"損益":a.profit,"報酬率(%)":a.payRate,"持有成本":a.holdingCost})}})}},watch:{$route:function(t,e){}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[[n("div",[n("Alert"),t._v(" "),n("b-container",[n("b-row",[n("b-col",{attrs:{id:"row_title"}},[t._v("請選擇需要導入的每天買入賣出股文件:")])],1),t._v(" "),n("b-row",[n("b-col",[n("b-form-file",{ref:"fileinput",attrs:{id:"file1",placeholder:"Please choose a file."},on:{change:t.update},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1),t._v(" "),n("b-row",[n("b-col",[n("p",{staticClass:"p-3 mb-2 bg-info text-white"},[t._v("每天買入賣出股列表：")]),t._v(" "),n("b-table",{staticStyle:{width:"90%"},attrs:{hover:"",items:t.items}})],1)],1)],1)],1)]],2)},staticRenderFns:[]};var H=n("Aizv")(B,U,!1,function(t){n("Yk4I")},"data-v-53706577",null).exports,K=n("jio0"),L=n.n(K),j={components:{MainLayout:d,Autocomplete:m.a,Alert:P},data:function(){return{name:"",currSelectedType:"",initNumber:50,options:[{value:"",text:"Please select..."}],list:[],items:[]}},created:function(){this.getData()},mounted:function(){L.a.create(listWithHandle,{handle:".oi-move",animation:150})},methods:{clearName:function(){this.name="",this.$refs.focusThis.focus()},handleOk:function(t){t.preventDefault(),this.name?this.handleSubmit():alert("请输入自選股名称!")},handleSubmit:function(){this.saveData(this.name),this.clearName(),this.$refs.modal.hide()},save2StockMyData:function(){if(""==this.currSelectedType)alert("請先選擇對應的自選股名稱!");else{var t=[];if($(".form-control input[type='hidden']").each(function(e,n){var a=$(n).val();""!=a&&t.push(a)}),t.length>0){var e={selectedType:this.currSelectedType,stockIds:t};this.$api.post("/api/stock/changeStockMySelected",e,function(t){p.$emit("success","保存成功!")})}}},saveData:function(t){var e=this,n="/api/stock/saveStockMySelectedType?name="+t;this.$api.post(n,null,function(t){e.getData()})},isSelected:function(t){return this.currSelectedType==t?"warning":"success"},getUrl:function(t){return"/api/stock/search4StockMyData?query="+t},selectedProcess:function(t,e){$(".form-control input[type='hidden']").each(function(n,a){var s=$(a).val();""!=s&&s==t.value&&(e.clear(),p.$emit("alerts",t.display+"已經存在!"))})},formattedDisplay:function(t){return t.no+" "+t.company},removeStockMySelected:function(t,e){this.$route.params.stockId;var n=this.$api,a=this;this.$confirm("是否確定從"+e+"中移除?").then(function(){var e="/api/stock/removeStockMySelected?selectedType="+t;n.post(e,null,function(t){a.getData(),a.currSelectedType="",a.list=[]})}).catch(function(t){console.log("Exception---\x3e"+t)})},changedValue:function(t){this.currSelectedType=t,$(".empty-form-control input").val(""),this.getMyStockMySelected(t)},getMyStockMySelected:function(t){var e=this;this.list=[],""!=t&&this.$api.get("/api/stock/getStockMyDatasByType/"+t,null,function(t){e.list=t})},getData:function(){var t=this;this.$api.get("/api/stock/getStockMySelectedTypes",null,function(e){t.items=e})}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("div",[n("Alert"),t._v(" "),t._l(t.items,function(e){return n("span",[n("b-button",{attrs:{variant:t.isSelected(e.type),id:e.type},on:{click:function(n){t.changedValue(e.type)}}},[t._v("\n          "+t._s(e.name)+"\n      "),n("span",{attrs:{"aria-hidden":"true"},on:{click:function(n){n.preventDefault(),t.removeStockMySelected(e.type,e.name)}}},[t._v("×")])])],1)}),t._v(" "),n("div",{staticClass:"float-right w-25"},[n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",modifiers:{modalPrevent:!0}}],attrs:{variant:"info"}},[t._v("添加")]),t._v(" "),""!=t.currSelectedType?n("b-button",{attrs:{variant:"info"},on:{click:t.save2StockMyData}},[t._v("保存")]):t._e(),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modalPrevent",title:"请输入自選股名称"},on:{ok:t.handleOk,shown:t.clearName}},[n("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-input",{ref:"focusThis",attrs:{type:"text",placeholder:"输入自選股名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],1),t._v(" "),n("div",{attrs:{id:"listWithHandle"}},[t._l(t.list,function(e,a){return n("div",{staticClass:"list-group-item float-left wd-fixed py-1 my-1"},[n("span",{staticClass:"badge"},[t._v(t._s(a+1))]),t._v(" "),n("span",{staticClass:"oi oi-move",attrs:{"aria-hidden":"true"}}),t._v(" "),n("autocomplete",{ref:"autocomplete"+a,refInFor:!0,attrs:{source:t.getUrl,"input-class":"form-control","results-property":"data","results-display":t.formattedDisplay,initialValue:e.stockId,initialDisplay:e.no+" "+e.company},on:{selected:t.selectedProcess}})],1)}),t._v(" "),t._l(t.initNumber-t.list.length,function(e){return""!=t.currSelectedType?n("div",{staticClass:"list-group-item float-left wd-fixed py-1 my-1"},[n("span",{staticClass:"badge"},[t._v(t._s(e+t.list.length))]),t._v(" "),n("span",{staticClass:"oi oi-move",attrs:{"aria-hidden":"true"}}),t._v(" "),n("autocomplete",{ref:"autocomplete"+e,refInFor:!0,attrs:{source:t.getUrl,"input-class":"form-control empty-form-control","results-property":"data","results-display":t.formattedDisplay},on:{selected:t.selectedProcess}})],1):t._e()}),t._v(" "),n("div",{staticClass:"clearfix"})],2)],2)])},staticRenderFns:[]};var Y=n("Aizv")(j,G,!1,function(t){n("g3B6")},"data-v-1caad668",null).exports,q={components:{MainLayout:d,Alert:P},data:function(){return{excludesItems:[],includesItems:[]}},created:function(){this.getExcludesItems(),this.getIncludesItems()},mounted:function(){},methods:{saveExcludeItem:function(t){var e=this,n=[];if($(".exclude-item input").each(function(t,e){var a=$(e).val();-1==n.indexOf(a)&&n.push(a)}),n.length>0){var a="/api/stock/saveStockNewsKeyByExclude?keys[]="+n.join();this.$api.post(a,null,function(t){e.getExcludesItems()})}else alert("記錄不能為空!")},saveIncludeItem:function(t){var e=this,n=[];if($(".include-item input").each(function(t,e){var a=$(e).val();-1==n.indexOf(a)&&n.push(a)}),n.length>0){var a="/api/stock/saveStockNewsKeyByInclude?keys[]="+n.join();this.$api.post(a,null,function(t){e.getIncludesItems()})}else alert("記錄不能為空!")},addExcludeItem:function(t){$("#add-exclude-item").before('\n      <div class="exclude-item w-5 float-left p-1">\n          <input type="text" class="form-control" />\n      </div>        \n      ')},addIncludeItem:function(t){$("#add-include-item").before('\n      <div class="include-item w-5 float-left p-1">\n          <input type="text" class="form-control" />\n      </div>        \n      ')},getExcludesItems:function(){var t=this;this.excludesItems=[];this.$api.get("/api/stock/getStockNewsKeyByExclude",null,function(e){$(".exclude-item").remove(),t.excludesItems=e})},getIncludesItems:function(){var t=this;this.includesItems=[];this.$api.get("/api/stock/getStockNewsKeyByInclude",null,function(e){$(".include-item").remove(),t.includesItems=e})}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("div",{staticClass:"border border-primary m-2 float-left",staticStyle:{width:"45%"}},[n("h5",{staticClass:"text-primary p-1"},[t._v("去重關鍵字：\n    "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.saveExcludeItem(e)}}},[t._v("保存")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.addExcludeItem(e)}}},[t._v("添加")])]),t._v(" "),t._l(t.excludesItems,function(t){return n("div",{staticClass:"exclude-item w-5 float-left p-1"},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.key}})])}),t._v(" "),n("div",{staticClass:"w-3 float-left p-1",attrs:{id:"add-exclude-item"}}),t._v(" "),n("div",{staticClass:"clearfix"})],2),t._v(" "),n("div",{staticClass:"border border-success m-2 float-left",staticStyle:{width:"45%"}},[n("h5",{staticClass:"text-success p-1"},[t._v("焦點關鍵字：\n    "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.saveIncludeItem(e)}}},[t._v("保存")]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.addIncludeItem(e)}}},[t._v("添加")])]),t._v(" "),t._l(t.includesItems,function(t){return n("div",{staticClass:"include-item w-5 float-left p-1"},[n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.key}})])}),t._v(" "),n("div",{staticClass:"w-3 float-left p-1",attrs:{id:"add-include-item"}}),t._v(" "),n("div",{staticClass:"clearfix"})],2),t._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]};var W=n("Aizv")(q,V,!1,function(t){n("lRmg")},"data-v-5758a82f",null).exports;a.default.use(o.a);var X=new o.a({mode:"hash",routes:[{path:"/",component:A},{path:"/content/:stockId",component:A,children:[{path:":pageNum",component:A}]},{path:"/importantNews/:pageNum",component:R},{path:"/stockDailyTransactions",component:H},{path:"/editMySelectedType",component:Y},{path:"/newsSettings",component:W}]}),Z=n("N7z7"),J=(n("h8gv"),n("pltS"),n("HD/Y"),n("P1wC")),Q=n.n(J),tt="/",et=n("gCy3");function nt(t,e,n,a,s){et({method:t,url:e,data:"POST"===t||"PUT"===t?n:null,params:"GET"===t||"DELETE"===t?n:null,baseURL:tt,withCredentials:!1}).then(function(t){console.log("res.data----\x3e"+t.data),a&&a(t.data),p.$emit("loading",!1)}).catch(function(t){if(p.$emit("loading",!1),t){console.log("err---\x3e"+t);var e=t.response.statusText+" : "+t.response.data;p.$emit("alerts",e),s&&s(t)}})}var at={get:function(t,e,n,a){return nt("GET",t,e,n,a)},post:function(t,e,n,a){return nt("POST",t,e,n,a)},put:function(t,e,n,a){return nt("PUT",t,e,n,a)},delete:function(t,e,n,a){return nt("DELETE",t,e,n,a)},fileUpload:function(t,e,n,a){return function(t,e,n,a){var s=new FormData;s.append("file",t,t.name),s.append("chunk","0"),et.post(e,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),n&&n(t.data)}).catch(function(t){console.log("err---\x3e"+t);var e=t.response.statusText+" : "+t.response.data;p.$emit("alerts",e),a&&a(t)})}(t,e,n,a)}},st={goodTime:function(t){var e=(new Date).getTime()-new Date(t).getTime(),n=e/31104e6,a=e/2592e6,s=e/6048e5,i=e/864e5,o=e/36e5,c=e/6e4;return n>=1?"发表于 "+~~n+" 年前":a>=1?"发表于 "+~~a+" 个月前":s>=1?"发表于 "+~~s+" 周前":i>=1?"发表于 "+~~i+" 天前":o>=1?"发表于 "+~~o+" 个小时前":c>=1?"发表于 "+~~c+" 分钟前":"刚刚"}};n("8e4C"),n("gCy3");a.default.use(Z.a),a.default.use(Q.a),a.default.prototype.$api=at,a.default.prototype.$utils=st,a.default.config.productionTip=!1,new a.default({el:"#app",router:X,components:{App:i},template:"<App/>"})},Pbsv:function(t,e,n){t.exports=n.p+"static/img/stock04.519da72.png"},UnKv:function(t,e){},Yk4I:function(t,e){},g3B6:function(t,e){},h8gv:function(t,e){},hzTk:function(t,e){},lRmg:function(t,e){},pdky:function(t,e,n){t.exports=n.p+"static/img/stock01.1bee924.png"},pltS:function(t,e){},vhDn:function(t,e,n){t.exports=n.p+"static/img/stock02.64af7c8.png"}},["NHnr"]);